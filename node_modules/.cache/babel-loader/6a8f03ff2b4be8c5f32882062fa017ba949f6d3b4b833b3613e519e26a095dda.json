{"ast":null,"code":"(function (V, p) {\n  typeof exports == \"object\" && typeof module < \"u\" ? p(exports) : typeof define == \"function\" && define.amd ? define([\"exports\"], p) : p(V.dat = {});\n})(globalThis, function (V) {\n  function p(e, t) {\n    var i = e.__state.conversionName.toString(),\n      n = Math.round(e.r),\n      u = Math.round(e.g),\n      c = Math.round(e.b),\n      h = e.a,\n      g = Math.round(e.h),\n      b = e.s.toFixed(1),\n      v = e.v.toFixed(1);\n    if (t || i === \"THREE_CHAR_HEX\" || i === \"SIX_CHAR_HEX\") {\n      for (var S = e.hex.toString(16); S.length < 6;) S = \"0\" + S;\n      return \"#\" + S;\n    }\n    return i === \"CSS_RGB\" ? \"rgb(\" + n + \",\" + u + \",\" + c + \")\" : i === \"CSS_RGBA\" ? \"rgba(\" + n + \",\" + u + \",\" + c + \",\" + h + \")\" : i === \"HEX\" ? \"0x\" + e.hex.toString(16) : i === \"RGB_ARRAY\" ? \"[\" + n + \",\" + u + \",\" + c + \"]\" : i === \"RGBA_ARRAY\" ? \"[\" + n + \",\" + u + \",\" + c + \",\" + h + \"]\" : i === \"RGB_OBJ\" ? \"{r:\" + n + \",g:\" + u + \",b:\" + c + \"}\" : i === \"RGBA_OBJ\" ? \"{r:\" + n + \",g:\" + u + \",b:\" + c + \",a:\" + h + \"}\" : i === \"HSV_OBJ\" ? \"{h:\" + g + \",s:\" + b + \",v:\" + v + \"}\" : i === \"HSVA_OBJ\" ? \"{h:\" + g + \",s:\" + b + \",v:\" + v + \",a:\" + h + \"}\" : \"unknown format\";\n  }\n  function D(e, t, i) {\n    Object.defineProperty(e, t, {\n      get: function () {\n        return this.__state.space === \"RGB\" ? this.__state[t] : (E.recalculateRGB(this, t, i), this.__state[t]);\n      },\n      set: function (n) {\n        this.__state.space !== \"RGB\" && (E.recalculateRGB(this, t, i), this.__state.space = \"RGB\"), this.__state[t] = n;\n      }\n    });\n  }\n  function he(e, t) {\n    Object.defineProperty(e, t, {\n      get: function () {\n        return this.__state.space === \"HSV\" ? this.__state[t] : (E.recalculateHSV(this), this.__state[t]);\n      },\n      set: function (i) {\n        this.__state.space !== \"HSV\" && (E.recalculateHSV(this), this.__state.space = \"HSV\"), this.__state[t] = i;\n      }\n    });\n  }\n  function B(e) {\n    if (e === \"0\" || d.isUndefined(e)) return 0;\n    var t = e.match(J);\n    return d.isNull(t) ? 0 : parseFloat(t[1]);\n  }\n  function ye(e) {\n    var t = e.toString();\n    return t.indexOf(\".\") > -1 ? t.length - t.indexOf(\".\") - 1 : 0;\n  }\n  function te(e, t) {\n    var i = Math.pow(10, t);\n    return Math.round(e * i) / i;\n  }\n  function r(e, t, i, n, u) {\n    return n + (e - t) / (i - t) * (u - n);\n  }\n  function P(e, t, i, n) {\n    e.style.background = \"\", d.each(Re, function (u) {\n      e.style.cssText += \"background: \" + u + \"linear-gradient(\" + t + \", \" + i + \" 0%, \" + n + \" 100%); \";\n    });\n  }\n  function Je(e) {\n    e.style.background = \"\", e.style.cssText += \"background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);\", e.style.cssText += \"background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\", e.style.cssText += \"background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\", e.style.cssText += \"background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\", e.style.cssText += \"background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\";\n  }\n  function G(e, t, i) {\n    var n = document.createElement(\"li\");\n    return t && n.appendChild(t), i ? e.__ul.insertBefore(n, i) : e.__ul.appendChild(n), e.onResize(), n;\n  }\n  function Ue(e) {\n    l.unbind(window, \"resize\", e.__resizeHandler), e.saveToLocalStorageIfPossible && l.unbind(window, \"unload\", e.saveToLocalStorageIfPossible);\n  }\n  function Oe(e, t) {\n    var i = e.__preset_select[e.__preset_select.selectedIndex];\n    i.innerHTML = t ? i.value + \"*\" : i.value;\n  }\n  function Qe(e, t, i) {\n    if (i.__li = t, i.__gui = e, d.extend(i, {\n      options: function (c) {\n        if (arguments.length > 1) {\n          var h = i.__li.nextElementSibling;\n          return i.remove(), ae(e, i.object, i.property, {\n            before: h,\n            factoryArgs: [d.toArray(arguments)]\n          });\n        }\n        if (d.isArray(c) || d.isObject(c)) {\n          var g = i.__li.nextElementSibling;\n          return i.remove(), ae(e, i.object, i.property, {\n            before: g,\n            factoryArgs: [c]\n          });\n        }\n      },\n      name: function (c) {\n        return i.__li.firstElementChild.firstElementChild.innerHTML = c, i;\n      },\n      listen: function () {\n        return i.__gui.listen(i), i;\n      },\n      remove: function () {\n        return i.__gui.remove(i), i;\n      }\n    }), i instanceof ue) {\n      var n = new le(i.object, i.property, {\n        min: i.__min,\n        max: i.__max,\n        step: i.__step\n      });\n      d.each([\"updateDisplay\", \"onChange\", \"onFinishChange\", \"step\"], function (c) {\n        var h = i[c],\n          g = n[c];\n        i[c] = n[c] = function () {\n          var b = Array.prototype.slice.call(arguments);\n          return g.apply(n, b), h.apply(i, b);\n        };\n      }), l.addClass(t, \"has-slider\"), i.domElement.insertBefore(n.domElement, i.domElement.firstElementChild);\n    } else if (i instanceof le) {\n      var u = function (c) {\n        if (d.isNumber(i.__min) && d.isNumber(i.__max)) {\n          var h = i.__li.firstElementChild.firstElementChild.innerHTML,\n            g = i.__gui.__listening.indexOf(i) > -1;\n          i.remove();\n          var b = ae(e, i.object, i.property, {\n            before: i.__li.nextElementSibling,\n            factoryArgs: [i.__min, i.__max, i.__step]\n          });\n          return b.name(h), g && b.listen(), b;\n        }\n        return c;\n      };\n      i.min = d.compose(u, i.min), i.max = d.compose(u, i.max);\n    } else i instanceof se ? (l.bind(t, \"click\", function () {\n      l.fakeEvent(i.__checkbox, \"click\");\n    }), l.bind(i.__checkbox, \"click\", function (c) {\n      c.stopPropagation();\n    })) : i instanceof Ae ? (l.bind(t, \"click\", function () {\n      l.fakeEvent(i.__button, \"click\");\n    }), l.bind(t, \"mouseover\", function () {\n      l.addClass(i.__button, \"hover\");\n    }), l.bind(t, \"mouseout\", function () {\n      l.removeClass(i.__button, \"hover\");\n    })) : i instanceof ve && (l.addClass(t, \"color\"), i.updateDisplay = d.compose(function (c) {\n      return t.style.borderLeftColor = i.__color.toString(), c;\n    }, i.updateDisplay), i.updateDisplay());\n    i.setValue = d.compose(function (c) {\n      return e.getRoot().__preset_select && i.isModified() && Oe(e.getRoot(), !0), c;\n    }, i.setValue);\n  }\n  function k(e, t) {\n    var i = e.getRoot(),\n      n = i.__rememberedObjects.indexOf(t.object);\n    if (n !== -1) {\n      var u = i.__rememberedObjectIndecesToControllers[n];\n      if (u === void 0 && (u = {}, i.__rememberedObjectIndecesToControllers[n] = u), u[t.property] = t, i.load && i.load.remembered) {\n        var c = i.load.remembered,\n          h = void 0;\n        if (c[e.preset]) h = c[e.preset];else {\n          if (!c[I]) return;\n          h = c[I];\n        }\n        if (h[n] && h[n][t.property] !== void 0) {\n          var g = h[n][t.property];\n          t.initialValue = g, t.setValue(g);\n        }\n      }\n    }\n  }\n  function ae(e, t, i, n) {\n    if (t[i] === void 0) throw new Error('Object \"' + t + '\" has no property \"' + i + '\"');\n    var u = void 0;\n    if (n.color) u = new ve(t, i);else {\n      var c = [t, i].concat(n.factoryArgs);\n      u = Ce.apply(e, c);\n    }\n    n.before instanceof x && (n.before = n.before.__li), k(e, u), l.addClass(u.domElement, \"c\");\n    var h = document.createElement(\"span\");\n    l.addClass(h, \"property-name\"), h.innerHTML = u.property;\n    var g = document.createElement(\"div\");\n    g.appendChild(h), g.appendChild(u.domElement);\n    var b = G(e, g, n.before);\n    return l.addClass(b, C.CLASS_CONTROLLER_ROW), u instanceof ve ? l.addClass(b, \"color\") : l.addClass(b, et(u.getValue())), Qe(e, b, u), e.__controllers.push(u), u;\n  }\n  function ie(e, t) {\n    return document.location.href + \".\" + t;\n  }\n  function N(e, t, i) {\n    var n = document.createElement(\"option\");\n    n.innerHTML = t, n.value = t, e.__preset_select.appendChild(n), i && (e.__preset_select.selectedIndex = e.__preset_select.length - 1);\n  }\n  function Pe(e, t) {\n    t.style.display = e.useLocalStorage ? \"block\" : \"none\";\n  }\n  function U(e) {\n    var t = e.__save_row = document.createElement(\"li\");\n    l.addClass(e.domElement, \"has-save\"), e.__ul.insertBefore(t, e.__ul.firstChild), l.addClass(t, \"save-row\");\n    var i = document.createElement(\"span\");\n    i.innerHTML = \"&nbsp;\", l.addClass(i, \"button gears\");\n    var n = document.createElement(\"span\");\n    n.innerHTML = \"Save\", l.addClass(n, \"button\"), l.addClass(n, \"save\");\n    var u = document.createElement(\"span\");\n    u.innerHTML = \"New\", l.addClass(u, \"button\"), l.addClass(u, \"save-as\");\n    var c = document.createElement(\"span\");\n    c.innerHTML = \"Revert\", l.addClass(c, \"button\"), l.addClass(c, \"revert\");\n    var h = e.__preset_select = document.createElement(\"select\");\n    if (e.load && e.load.remembered ? d.each(e.load.remembered, function (S, T) {\n      N(e, T, T === e.preset);\n    }) : N(e, I, !1), l.bind(h, \"change\", function () {\n      for (var S = 0; S < e.__preset_select.length; S++) e.__preset_select[S].innerHTML = e.__preset_select[S].value;\n      e.preset = this.value;\n    }), t.appendChild(h), t.appendChild(i), t.appendChild(n), t.appendChild(u), t.appendChild(c), re) {\n      var g = document.getElementById(\"dg-local-explain\"),\n        b = document.getElementById(\"dg-local-storage\");\n      document.getElementById(\"dg-save-locally\").style.display = \"block\", localStorage.getItem(ie(e, \"isLocal\")) === \"true\" && b.setAttribute(\"checked\", \"checked\"), Pe(e, g), l.bind(b, \"change\", function () {\n        e.useLocalStorage = !e.useLocalStorage, Pe(e, g);\n      });\n    }\n    var v = document.getElementById(\"dg-new-constructor\");\n    l.bind(v, \"keydown\", function (S) {\n      !S.metaKey || S.which !== 67 && S.keyCode !== 67 || ce.hide();\n    }), l.bind(i, \"click\", function () {\n      v.innerHTML = JSON.stringify(e.getSaveObject(), void 0, 2), ce.show(), v.focus(), v.select();\n    }), l.bind(n, \"click\", function () {\n      e.save();\n    }), l.bind(u, \"click\", function () {\n      var S = prompt(\"Enter a new preset name.\");\n      S && e.saveAs(S);\n    }), l.bind(c, \"click\", function () {\n      e.revert();\n    });\n  }\n  function qe(e) {\n    function t(c) {\n      return c.preventDefault(), e.width += u - c.clientX, e.onResize(), u = c.clientX, !1;\n    }\n    function i() {\n      l.removeClass(e.__closeButton, C.CLASS_DRAG), l.unbind(window, \"mousemove\", t), l.unbind(window, \"mouseup\", i);\n    }\n    function n(c) {\n      return c.preventDefault(), u = c.clientX, l.addClass(e.__closeButton, C.CLASS_DRAG), l.bind(window, \"mousemove\", t), l.bind(window, \"mouseup\", i), !1;\n    }\n    var u = void 0;\n    e.__resize_handle = document.createElement(\"div\"), d.extend(e.__resize_handle.style, {\n      width: \"6px\",\n      marginLeft: \"-3px\",\n      height: \"200px\",\n      cursor: \"ew-resize\",\n      position: \"absolute\"\n    }), l.bind(e.__resize_handle, \"mousedown\", n), l.bind(e.__closeButton, \"mousedown\", n), e.domElement.insertBefore(e.__resize_handle, e.domElement.firstElementChild);\n  }\n  function Le(e, t) {\n    e.domElement.style.width = t + \"px\", e.__save_row && e.autoPlace && (e.__save_row.style.width = t + \"px\"), e.__closeButton && (e.__closeButton.style.width = t + \"px\");\n  }\n  function Ee(e, t) {\n    var i = {};\n    return d.each(e.__rememberedObjects, function (n, u) {\n      var c = {},\n        h = e.__rememberedObjectIndecesToControllers[u];\n      d.each(h, function (g, b) {\n        c[b] = t ? g.initialValue : g.getValue();\n      }), i[u] = c;\n    }), i;\n  }\n  function Ze(e) {\n    for (var t = 0; t < e.__preset_select.length; t++) e.__preset_select[t].value === e.preset && (e.__preset_select.selectedIndex = t);\n  }\n  function Ie(e) {\n    e.length !== 0 && He.call(window, function () {\n      Ie(e);\n    }), d.each(e, function (t) {\n      t.updateDisplay();\n    });\n  }\n  var Me = Array.prototype.forEach,\n    me = Array.prototype.slice,\n    d = {\n      BREAK: {},\n      extend: function (e) {\n        return this.each(me.call(arguments, 1), function (t) {\n          (this.isObject(t) ? Object.keys(t) : []).forEach(function (i) {\n            this.isUndefined(t[i]) || (e[i] = t[i]);\n          }.bind(this));\n        }, this), e;\n      },\n      defaults: function (e) {\n        return this.each(me.call(arguments, 1), function (t) {\n          (this.isObject(t) ? Object.keys(t) : []).forEach(function (i) {\n            this.isUndefined(e[i]) && (e[i] = t[i]);\n          }.bind(this));\n        }, this), e;\n      },\n      compose: function () {\n        var e = me.call(arguments);\n        return function () {\n          for (var t = me.call(arguments), i = e.length - 1; i >= 0; i--) t = [e[i].apply(this, t)];\n          return t[0];\n        };\n      },\n      each: function (e, t, i) {\n        if (e) {\n          if (Me && e.forEach && e.forEach === Me) e.forEach(t, i);else if (e.length === e.length + 0) {\n            var n = void 0,\n              u = void 0;\n            for (n = 0, u = e.length; n < u; n++) if (n in e && t.call(i, e[n], n) === this.BREAK) return;\n          } else for (var c in e) if (t.call(i, e[c], c) === this.BREAK) return;\n        }\n      },\n      defer: function (e) {\n        setTimeout(e, 0);\n      },\n      debounce: function (e, t, i) {\n        var n = void 0;\n        return function () {\n          var u = this,\n            c = arguments,\n            h = i || !n;\n          clearTimeout(n), n = setTimeout(function () {\n            n = null, i || e.apply(u, c);\n          }, t), h && e.apply(u, c);\n        };\n      },\n      toArray: function (e) {\n        return e.toArray ? e.toArray() : me.call(e);\n      },\n      isUndefined: function (e) {\n        return e === void 0;\n      },\n      isNull: function (e) {\n        return e === null;\n      },\n      isNaN: function (e) {\n        function t(i) {\n          return e.apply(this, arguments);\n        }\n        return t.toString = function () {\n          return e.toString();\n        }, t;\n      }(function (e) {\n        return isNaN(e);\n      }),\n      isArray: Array.isArray || function (e) {\n        return e.constructor === Array;\n      },\n      isObject: function (e) {\n        return e === Object(e);\n      },\n      isNumber: function (e) {\n        return e === e + 0;\n      },\n      isString: function (e) {\n        return e === e + \"\";\n      },\n      isBoolean: function (e) {\n        return e === !1 || e === !0;\n      },\n      isFunction: function (e) {\n        return Object.prototype.toString.call(e) === \"[object Function]\";\n      }\n    },\n    $e = [{\n      litmus: d.isString,\n      conversions: {\n        THREE_CHAR_HEX: {\n          read: function (e) {\n            var t = e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);\n            return t !== null && {\n              space: \"HEX\",\n              hex: parseInt(\"0x\" + t[1].toString() + t[1].toString() + t[2].toString() + t[2].toString() + t[3].toString() + t[3].toString(), 0)\n            };\n          },\n          write: p\n        },\n        SIX_CHAR_HEX: {\n          read: function (e) {\n            var t = e.match(/^#([A-F0-9]{6})$/i);\n            return t !== null && {\n              space: \"HEX\",\n              hex: parseInt(\"0x\" + t[1].toString(), 0)\n            };\n          },\n          write: p\n        },\n        CSS_RGB: {\n          read: function (e) {\n            var t = e.match(/^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n            return t !== null && {\n              space: \"RGB\",\n              r: parseFloat(t[1]),\n              g: parseFloat(t[2]),\n              b: parseFloat(t[3])\n            };\n          },\n          write: p\n        },\n        CSS_RGBA: {\n          read: function (e) {\n            var t = e.match(/^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n            return t !== null && {\n              space: \"RGB\",\n              r: parseFloat(t[1]),\n              g: parseFloat(t[2]),\n              b: parseFloat(t[3]),\n              a: parseFloat(t[4])\n            };\n          },\n          write: p\n        }\n      }\n    }, {\n      litmus: d.isNumber,\n      conversions: {\n        HEX: {\n          read: function (e) {\n            return {\n              space: \"HEX\",\n              hex: e,\n              conversionName: \"HEX\"\n            };\n          },\n          write: function (e) {\n            return e.hex;\n          }\n        }\n      }\n    }, {\n      litmus: d.isArray,\n      conversions: {\n        RGB_ARRAY: {\n          read: function (e) {\n            return e.length === 3 && {\n              space: \"RGB\",\n              r: e[0],\n              g: e[1],\n              b: e[2]\n            };\n          },\n          write: function (e) {\n            return [e.r, e.g, e.b];\n          }\n        },\n        RGBA_ARRAY: {\n          read: function (e) {\n            return e.length === 4 && {\n              space: \"RGB\",\n              r: e[0],\n              g: e[1],\n              b: e[2],\n              a: e[3]\n            };\n          },\n          write: function (e) {\n            return [e.r, e.g, e.b, e.a];\n          }\n        }\n      }\n    }, {\n      litmus: d.isObject,\n      conversions: {\n        RGBA_OBJ: {\n          read: function (e) {\n            return !!(d.isNumber(e.r) && d.isNumber(e.g) && d.isNumber(e.b) && d.isNumber(e.a)) && {\n              space: \"RGB\",\n              r: e.r,\n              g: e.g,\n              b: e.b,\n              a: e.a\n            };\n          },\n          write: function (e) {\n            return {\n              r: e.r,\n              g: e.g,\n              b: e.b,\n              a: e.a\n            };\n          }\n        },\n        RGB_OBJ: {\n          read: function (e) {\n            return !!(d.isNumber(e.r) && d.isNumber(e.g) && d.isNumber(e.b)) && {\n              space: \"RGB\",\n              r: e.r,\n              g: e.g,\n              b: e.b\n            };\n          },\n          write: function (e) {\n            return {\n              r: e.r,\n              g: e.g,\n              b: e.b\n            };\n          }\n        },\n        HSVA_OBJ: {\n          read: function (e) {\n            return !!(d.isNumber(e.h) && d.isNumber(e.s) && d.isNumber(e.v) && d.isNumber(e.a)) && {\n              space: \"HSV\",\n              h: e.h,\n              s: e.s,\n              v: e.v,\n              a: e.a\n            };\n          },\n          write: function (e) {\n            return {\n              h: e.h,\n              s: e.s,\n              v: e.v,\n              a: e.a\n            };\n          }\n        },\n        HSV_OBJ: {\n          read: function (e) {\n            return !!(d.isNumber(e.h) && d.isNumber(e.s) && d.isNumber(e.v)) && {\n              space: \"HSV\",\n              h: e.h,\n              s: e.s,\n              v: e.v\n            };\n          },\n          write: function (e) {\n            return {\n              h: e.h,\n              s: e.s,\n              v: e.v\n            };\n          }\n        }\n      }\n    }],\n    _e = void 0,\n    Te = void 0,\n    we = function () {\n      Te = !1;\n      var e = arguments.length > 1 ? d.toArray(arguments) : arguments[0];\n      return d.each($e, function (t) {\n        if (t.litmus(e)) return d.each(t.conversions, function (i, n) {\n          if (_e = i.read(e), Te === !1 && _e !== !1) return Te = _e, _e.conversionName = n, _e.conversion = i, d.BREAK;\n        }), d.BREAK;\n      }), Te;\n    },\n    ze = void 0,\n    pe = {\n      hsv_to_rgb: function (e, t, i) {\n        var n = Math.floor(e / 60) % 6,\n          u = e / 60 - Math.floor(e / 60),\n          c = i * (1 - t),\n          h = i * (1 - u * t),\n          g = i * (1 - (1 - u) * t),\n          b = [[i, g, c], [h, i, c], [c, i, g], [c, h, i], [g, c, i], [i, c, h]][n];\n        return {\n          r: 255 * b[0],\n          g: 255 * b[1],\n          b: 255 * b[2]\n        };\n      },\n      rgb_to_hsv: function (e, t, i) {\n        var n = Math.min(e, t, i),\n          u = Math.max(e, t, i),\n          c = u - n,\n          h = void 0,\n          g = void 0;\n        return u === 0 ? {\n          h: NaN,\n          s: 0,\n          v: 0\n        } : (g = c / u, h = e === u ? (t - i) / c : t === u ? 2 + (i - e) / c : 4 + (e - t) / c, (h /= 6) < 0 && (h += 1), {\n          h: 360 * h,\n          s: g,\n          v: u / 255\n        });\n      },\n      rgb_to_hex: function (e, t, i) {\n        var n = this.hex_with_component(0, 2, e);\n        return n = this.hex_with_component(n, 1, t), n = this.hex_with_component(n, 0, i);\n      },\n      component_from_hex: function (e, t) {\n        return e >> 8 * t & 255;\n      },\n      hex_with_component: function (e, t, i) {\n        return i << (ze = 8 * t) | e & ~(255 << ze);\n      }\n    },\n    et = typeof Symbol == \"function\" && typeof Symbol.iterator == \"symbol\" ? function (e) {\n      return typeof e;\n    } : function (e) {\n      return e && typeof Symbol == \"function\" && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n    },\n    M = function (e, t) {\n      if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n    },\n    z = function () {\n      function e(t, i) {\n        for (var n = 0; n < i.length; n++) {\n          var u = i[n];\n          u.enumerable = u.enumerable || !1, u.configurable = !0, \"value\" in u && (u.writable = !0), Object.defineProperty(t, u.key, u);\n        }\n      }\n      return function (t, i, n) {\n        return i && e(t.prototype, i), n && e(t, n), t;\n      };\n    }(),\n    W = function e(t, i, n) {\n      t === null && (t = Function.prototype);\n      var u = Object.getOwnPropertyDescriptor(t, i);\n      if (u === void 0) {\n        var c = Object.getPrototypeOf(t);\n        return c === null ? void 0 : e(c, i, n);\n      }\n      if (\"value\" in u) return u.value;\n      var h = u.get;\n      if (h !== void 0) return h.call(n);\n    },\n    K = function (e, t) {\n      if (typeof t != \"function\" && t !== null) throw new TypeError(\"Super expression must either be null or a function, not \" + typeof t);\n      e.prototype = Object.create(t && t.prototype, {\n        constructor: {\n          value: e,\n          enumerable: !1,\n          writable: !0,\n          configurable: !0\n        }\n      }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);\n    },\n    A = function (e, t) {\n      if (!e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n      return !t || typeof t != \"object\" && typeof t != \"function\" ? e : t;\n    },\n    E = function () {\n      function e() {\n        if (M(this, e), this.__state = we.apply(this, arguments), this.__state === !1) throw new Error(\"Failed to interpret color arguments\");\n        this.__state.a = this.__state.a || 1;\n      }\n      return z(e, [{\n        key: \"toString\",\n        value: function () {\n          return p(this);\n        }\n      }, {\n        key: \"toHexString\",\n        value: function () {\n          return p(this, !0);\n        }\n      }, {\n        key: \"toOriginal\",\n        value: function () {\n          return this.__state.conversion.write(this);\n        }\n      }]), e;\n    }();\n  E.recalculateRGB = function (e, t, i) {\n    if (e.__state.space === \"HEX\") e.__state[t] = pe.component_from_hex(e.__state.hex, i);else {\n      if (e.__state.space !== \"HSV\") throw new Error(\"Corrupted color state\");\n      d.extend(e.__state, pe.hsv_to_rgb(e.__state.h, e.__state.s, e.__state.v));\n    }\n  }, E.recalculateHSV = function (e) {\n    var t = pe.rgb_to_hsv(e.r, e.g, e.b);\n    d.extend(e.__state, {\n      s: t.s,\n      v: t.v\n    }), d.isNaN(t.h) ? d.isUndefined(e.__state.h) && (e.__state.h = 0) : e.__state.h = t.h;\n  }, E.COMPONENTS = [\"r\", \"g\", \"b\", \"h\", \"s\", \"v\", \"hex\", \"a\"], D(E.prototype, \"r\", 2), D(E.prototype, \"g\", 1), D(E.prototype, \"b\", 0), he(E.prototype, \"h\"), he(E.prototype, \"s\"), he(E.prototype, \"v\"), Object.defineProperty(E.prototype, \"a\", {\n    get: function () {\n      return this.__state.a;\n    },\n    set: function (e) {\n      this.__state.a = e;\n    }\n  }), Object.defineProperty(E.prototype, \"hex\", {\n    get: function () {\n      return !this.__state.space !== \"HEX\" && (this.__state.hex = pe.rgb_to_hex(this.r, this.g, this.b)), this.__state.hex;\n    },\n    set: function (e) {\n      this.__state.space = \"HEX\", this.__state.hex = e;\n    }\n  });\n  var x = function () {\n      function e(t, i) {\n        M(this, e), this.initialValue = t[i], this.domElement = document.createElement(\"div\"), this.object = t, this.property = i, this.__onChange = void 0, this.__onFinishChange = void 0;\n      }\n      return z(e, [{\n        key: \"onChange\",\n        value: function (t) {\n          return this.__onChange = t, this;\n        }\n      }, {\n        key: \"onFinishChange\",\n        value: function (t) {\n          return this.__onFinishChange = t, this;\n        }\n      }, {\n        key: \"setValue\",\n        value: function (t) {\n          return this.object[this.property] = t, this.__onChange && this.__onChange.call(this, t), this.updateDisplay(), this;\n        }\n      }, {\n        key: \"getValue\",\n        value: function () {\n          return this.object[this.property];\n        }\n      }, {\n        key: \"updateDisplay\",\n        value: function () {\n          return this;\n        }\n      }, {\n        key: \"isModified\",\n        value: function () {\n          return this.initialValue !== this.getValue();\n        }\n      }]), e;\n    }(),\n    Fe = {\n      HTMLEvents: [\"change\"],\n      MouseEvents: [\"click\", \"mousemove\", \"mousedown\", \"mouseup\", \"mouseover\"],\n      KeyboardEvents: [\"keydown\"]\n    },\n    Se = {};\n  d.each(Fe, function (e, t) {\n    d.each(e, function (i) {\n      Se[i] = t;\n    });\n  });\n  var J = /(\\d+(\\.\\d+)?)px/,\n    l = {\n      makeSelectable: function (e, t) {\n        e !== void 0 && e.style !== void 0 && (e.onselectstart = t ? function () {\n          return !1;\n        } : function () {}, e.style.MozUserSelect = t ? \"auto\" : \"none\", e.style.KhtmlUserSelect = t ? \"auto\" : \"none\", e.unselectable = t ? \"on\" : \"off\");\n      },\n      makeFullscreen: function (e, t, i) {\n        var n = i,\n          u = t;\n        d.isUndefined(u) && (u = !0), d.isUndefined(n) && (n = !0), e.style.position = \"absolute\", u && (e.style.left = 0, e.style.right = 0), n && (e.style.top = 0, e.style.bottom = 0);\n      },\n      fakeEvent: function (e, t, i, n) {\n        var u = i || {},\n          c = Se[t];\n        if (!c) throw new Error(\"Event type \" + t + \" not supported.\");\n        var h = document.createEvent(c);\n        switch (c) {\n          case \"MouseEvents\":\n            var g = u.x || u.clientX || 0,\n              b = u.y || u.clientY || 0;\n            h.initMouseEvent(t, u.bubbles || !1, u.cancelable || !0, window, u.clickCount || 1, 0, 0, g, b, !1, !1, !1, !1, 0, null);\n            break;\n          case \"KeyboardEvents\":\n            var v = h.initKeyboardEvent || h.initKeyEvent;\n            d.defaults(u, {\n              cancelable: !0,\n              ctrlKey: !1,\n              altKey: !1,\n              shiftKey: !1,\n              metaKey: !1,\n              keyCode: void 0,\n              charCode: void 0\n            }), v(t, u.bubbles || !1, u.cancelable, window, u.ctrlKey, u.altKey, u.shiftKey, u.metaKey, u.keyCode, u.charCode);\n            break;\n          default:\n            h.initEvent(t, u.bubbles || !1, u.cancelable || !0);\n        }\n        d.defaults(h, n), e.dispatchEvent(h);\n      },\n      bind: function (e, t, i, n) {\n        var u = n || !1;\n        return e.addEventListener ? e.addEventListener(t, i, u) : e.attachEvent && e.attachEvent(\"on\" + t, i), l;\n      },\n      unbind: function (e, t, i, n) {\n        var u = n || !1;\n        return e.removeEventListener ? e.removeEventListener(t, i, u) : e.detachEvent && e.detachEvent(\"on\" + t, i), l;\n      },\n      addClass: function (e, t) {\n        if (e.className === void 0) e.className = t;else if (e.className !== t) {\n          var i = e.className.split(/ +/);\n          i.indexOf(t) === -1 && (i.push(t), e.className = i.join(\" \").replace(/^\\s+/, \"\").replace(/\\s+$/, \"\"));\n        }\n        return l;\n      },\n      removeClass: function (e, t) {\n        if (t) {\n          if (e.className === t) e.removeAttribute(\"class\");else {\n            var i = e.className.split(/ +/),\n              n = i.indexOf(t);\n            n !== -1 && (i.splice(n, 1), e.className = i.join(\" \"));\n          }\n        } else e.className = void 0;\n        return l;\n      },\n      hasClass: function (e, t) {\n        return new RegExp(\"(?:^|\\\\s+)\" + t + \"(?:\\\\s+|$)\").test(e.className) || !1;\n      },\n      getWidth: function (e) {\n        var t = getComputedStyle(e);\n        return B(t[\"border-left-width\"]) + B(t[\"border-right-width\"]) + B(t[\"padding-left\"]) + B(t[\"padding-right\"]) + B(t.width);\n      },\n      getHeight: function (e) {\n        var t = getComputedStyle(e);\n        return B(t[\"border-top-width\"]) + B(t[\"border-bottom-width\"]) + B(t[\"padding-top\"]) + B(t[\"padding-bottom\"]) + B(t.height);\n      },\n      getOffset: function (e) {\n        var t = e,\n          i = {\n            left: 0,\n            top: 0\n          };\n        if (t.offsetParent) do i.left += t.offsetLeft, i.top += t.offsetTop, t = t.offsetParent; while (t);\n        return i;\n      },\n      isActive: function (e) {\n        return e === document.activeElement && (e.type || e.href);\n      }\n    },\n    se = function (e) {\n      function t(i, n) {\n        M(this, t);\n        var u = A(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, i, n)),\n          c = u;\n        return u.__prev = u.getValue(), u.__checkbox = document.createElement(\"input\"), u.__checkbox.setAttribute(\"type\", \"checkbox\"), l.bind(u.__checkbox, \"change\", function () {\n          c.setValue(!c.__prev);\n        }, !1), u.domElement.appendChild(u.__checkbox), u.updateDisplay(), u;\n      }\n      return K(t, x), z(t, [{\n        key: \"setValue\",\n        value: function (i) {\n          var n = W(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), \"setValue\", this).call(this, i);\n          return this.__onFinishChange && this.__onFinishChange.call(this, this.getValue()), this.__prev = this.getValue(), n;\n        }\n      }, {\n        key: \"updateDisplay\",\n        value: function () {\n          return this.getValue() === !0 ? (this.__checkbox.setAttribute(\"checked\", \"checked\"), this.__checkbox.checked = !0, this.__prev = !0) : (this.__checkbox.checked = !1, this.__prev = !1), W(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), \"updateDisplay\", this).call(this);\n        }\n      }]), t;\n    }(),\n    Ne = function (e) {\n      function t(i, n, u) {\n        M(this, t);\n        var c = A(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, i, n)),\n          h = u,\n          g = c;\n        if (c.__select = document.createElement(\"select\"), d.isArray(h)) {\n          var b = {};\n          d.each(h, function (v) {\n            b[v] = v;\n          }), h = b;\n        }\n        return d.each(h, function (v, S) {\n          var T = document.createElement(\"option\");\n          T.innerHTML = S, T.setAttribute(\"value\", v), g.__select.appendChild(T);\n        }), c.updateDisplay(), l.bind(c.__select, \"change\", function () {\n          var v = this.options[this.selectedIndex].value;\n          g.setValue(v);\n        }), c.domElement.appendChild(c.__select), c;\n      }\n      return K(t, x), z(t, [{\n        key: \"setValue\",\n        value: function (i) {\n          var n = W(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), \"setValue\", this).call(this, i);\n          return this.__onFinishChange && this.__onFinishChange.call(this, this.getValue()), n;\n        }\n      }, {\n        key: \"updateDisplay\",\n        value: function () {\n          return l.isActive(this.__select) ? this : (this.__select.value = this.getValue(), W(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), \"updateDisplay\", this).call(this));\n        }\n      }]), t;\n    }(),\n    Be = function (e) {\n      function t(i, n) {\n        function u() {\n          h.setValue(h.__input.value);\n        }\n        M(this, t);\n        var c = A(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, i, n)),\n          h = c;\n        return c.__input = document.createElement(\"input\"), c.__input.setAttribute(\"type\", \"text\"), l.bind(c.__input, \"keyup\", u), l.bind(c.__input, \"change\", u), l.bind(c.__input, \"blur\", function () {\n          h.__onFinishChange && h.__onFinishChange.call(h, h.getValue());\n        }), l.bind(c.__input, \"keydown\", function (g) {\n          g.keyCode === 13 && this.blur();\n        }), c.updateDisplay(), c.domElement.appendChild(c.__input), c;\n      }\n      return K(t, x), z(t, [{\n        key: \"updateDisplay\",\n        value: function () {\n          return l.isActive(this.__input) || (this.__input.value = this.getValue()), W(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), \"updateDisplay\", this).call(this);\n        }\n      }]), t;\n    }(),\n    oe = function (e) {\n      function t(i, n, u) {\n        M(this, t);\n        var c = A(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, i, n)),\n          h = u || {};\n        return c.__min = h.min, c.__max = h.max, c.__step = h.step, d.isUndefined(c.__step) ? c.initialValue === 0 ? c.__impliedStep = 1 : c.__impliedStep = Math.pow(10, Math.floor(Math.log(Math.abs(c.initialValue)) / Math.LN10)) / 10 : c.__impliedStep = c.__step, c.__precision = ye(c.__impliedStep), c;\n      }\n      return K(t, x), z(t, [{\n        key: \"setValue\",\n        value: function (i) {\n          var n = i;\n          return this.__min !== void 0 && n < this.__min ? n = this.__min : this.__max !== void 0 && n > this.__max && (n = this.__max), this.__step !== void 0 && n % this.__step != 0 && (n = Math.round(n / this.__step) * this.__step), W(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), \"setValue\", this).call(this, n);\n        }\n      }, {\n        key: \"min\",\n        value: function (i) {\n          return this.__min = i, this;\n        }\n      }, {\n        key: \"max\",\n        value: function (i) {\n          return this.__max = i, this;\n        }\n      }, {\n        key: \"step\",\n        value: function (i) {\n          return this.__step = i, this.__impliedStep = i, this.__precision = ye(i), this;\n        }\n      }]), t;\n    }(),\n    le = function (e) {\n      function t(i, n, u) {\n        function c() {\n          v.__onFinishChange && v.__onFinishChange.call(v, v.getValue());\n        }\n        function h(T) {\n          var m = S - T.clientY;\n          v.setValue(v.getValue() + m * v.__impliedStep), S = T.clientY;\n        }\n        function g() {\n          l.unbind(window, \"mousemove\", h), l.unbind(window, \"mouseup\", g), c();\n        }\n        M(this, t);\n        var b = A(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, i, n, u));\n        b.__truncationSuspended = !1;\n        var v = b,\n          S = void 0;\n        return b.__input = document.createElement(\"input\"), b.__input.setAttribute(\"type\", \"text\"), l.bind(b.__input, \"change\", function () {\n          var T = parseFloat(v.__input.value);\n          d.isNaN(T) || v.setValue(T);\n        }), l.bind(b.__input, \"blur\", function () {\n          c();\n        }), l.bind(b.__input, \"mousedown\", function (T) {\n          l.bind(window, \"mousemove\", h), l.bind(window, \"mouseup\", g), S = T.clientY;\n        }), l.bind(b.__input, \"keydown\", function (T) {\n          T.keyCode === 13 && (v.__truncationSuspended = !0, this.blur(), v.__truncationSuspended = !1, c());\n        }), b.updateDisplay(), b.domElement.appendChild(b.__input), b;\n      }\n      return K(t, oe), z(t, [{\n        key: \"updateDisplay\",\n        value: function () {\n          return this.__input.value = this.__truncationSuspended ? this.getValue() : te(this.getValue(), this.__precision), W(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), \"updateDisplay\", this).call(this);\n        }\n      }]), t;\n    }(),\n    ue = function (e) {\n      function t(i, n, u, c, h) {\n        function g(R) {\n          R.preventDefault();\n          var q = m.__background.getBoundingClientRect();\n          return m.setValue(r(R.clientX, q.left, q.right, m.__min, m.__max)), !1;\n        }\n        function b() {\n          l.unbind(window, \"mousemove\", g), l.unbind(window, \"mouseup\", b), m.__onFinishChange && m.__onFinishChange.call(m, m.getValue());\n        }\n        function v(R) {\n          var q = R.touches[0].clientX,\n            F = m.__background.getBoundingClientRect();\n          m.setValue(r(q, F.left, F.right, m.__min, m.__max));\n        }\n        function S() {\n          l.unbind(window, \"touchmove\", v), l.unbind(window, \"touchend\", S), m.__onFinishChange && m.__onFinishChange.call(m, m.getValue());\n        }\n        M(this, t);\n        var T = A(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, i, n, {\n            min: u,\n            max: c,\n            step: h\n          })),\n          m = T;\n        return T.__background = document.createElement(\"div\"), T.__foreground = document.createElement(\"div\"), l.bind(T.__background, \"mousedown\", function (R) {\n          document.activeElement.blur(), l.bind(window, \"mousemove\", g), l.bind(window, \"mouseup\", b), g(R);\n        }), l.bind(T.__background, \"touchstart\", function (R) {\n          R.touches.length === 1 && (l.bind(window, \"touchmove\", v), l.bind(window, \"touchend\", S), v(R));\n        }), l.addClass(T.__background, \"slider\"), l.addClass(T.__foreground, \"slider-fg\"), T.updateDisplay(), T.__background.appendChild(T.__foreground), T.domElement.appendChild(T.__background), T;\n      }\n      return K(t, oe), z(t, [{\n        key: \"updateDisplay\",\n        value: function () {\n          var i = (this.getValue() - this.__min) / (this.__max - this.__min);\n          return this.__foreground.style.width = 100 * i + \"%\", W(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), \"updateDisplay\", this).call(this);\n        }\n      }]), t;\n    }(),\n    Ae = function (e) {\n      function t(i, n, u) {\n        M(this, t);\n        var c = A(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, i, n)),\n          h = c;\n        return c.__button = document.createElement(\"div\"), c.__button.innerHTML = u === void 0 ? \"Fire\" : u, l.bind(c.__button, \"click\", function (g) {\n          return g.preventDefault(), h.fire(), !1;\n        }), l.addClass(c.__button, \"button\"), c.domElement.appendChild(c.__button), c;\n      }\n      return K(t, x), z(t, [{\n        key: \"fire\",\n        value: function () {\n          this.__onChange && this.__onChange.call(this), this.getValue().call(this.object), this.__onFinishChange && this.__onFinishChange.call(this, this.getValue());\n        }\n      }]), t;\n    }(),\n    ve = function (e) {\n      function t(i, n) {\n        function u(F) {\n          S(F), l.bind(window, \"mousemove\", S), l.bind(window, \"touchmove\", S), l.bind(window, \"mouseup\", h), l.bind(window, \"touchend\", h);\n        }\n        function c(F) {\n          T(F), l.bind(window, \"mousemove\", T), l.bind(window, \"touchmove\", T), l.bind(window, \"mouseup\", g), l.bind(window, \"touchend\", g);\n        }\n        function h() {\n          l.unbind(window, \"mousemove\", S), l.unbind(window, \"touchmove\", S), l.unbind(window, \"mouseup\", h), l.unbind(window, \"touchend\", h), v();\n        }\n        function g() {\n          l.unbind(window, \"mousemove\", T), l.unbind(window, \"touchmove\", T), l.unbind(window, \"mouseup\", g), l.unbind(window, \"touchend\", g), v();\n        }\n        function b() {\n          var F = we(this.value);\n          F !== !1 ? (R.__color.__state = F, R.setValue(R.__color.toOriginal())) : this.value = R.__color.toString();\n        }\n        function v() {\n          R.__onFinishChange && R.__onFinishChange.call(R, R.__color.toOriginal());\n        }\n        function S(F) {\n          F.type.indexOf(\"touch\") === -1 && F.preventDefault();\n          var X = R.__saturation_field.getBoundingClientRect(),\n            Z = F.touches && F.touches[0] || F,\n            je = Z.clientX,\n            We = Z.clientY,\n            be = (je - X.left) / (X.right - X.left),\n            fe = 1 - (We - X.top) / (X.bottom - X.top);\n          return fe > 1 ? fe = 1 : fe < 0 && (fe = 0), be > 1 ? be = 1 : be < 0 && (be = 0), R.__color.v = fe, R.__color.s = be, R.setValue(R.__color.toOriginal()), !1;\n        }\n        function T(F) {\n          F.type.indexOf(\"touch\") === -1 && F.preventDefault();\n          var X = R.__hue_field.getBoundingClientRect(),\n            Z = 1 - ((F.touches && F.touches[0] || F).clientY - X.top) / (X.bottom - X.top);\n          return Z > 1 ? Z = 1 : Z < 0 && (Z = 0), R.__color.h = 360 * Z, R.setValue(R.__color.toOriginal()), !1;\n        }\n        M(this, t);\n        var m = A(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, i, n));\n        m.__color = new E(m.getValue()), m.__temp = new E(0);\n        var R = m;\n        m.domElement = document.createElement(\"div\"), l.makeSelectable(m.domElement, !1), m.__selector = document.createElement(\"div\"), m.__selector.className = \"selector\", m.__saturation_field = document.createElement(\"div\"), m.__saturation_field.className = \"saturation-field\", m.__field_knob = document.createElement(\"div\"), m.__field_knob.className = \"field-knob\", m.__field_knob_border = \"2px solid \", m.__hue_knob = document.createElement(\"div\"), m.__hue_knob.className = \"hue-knob\", m.__hue_field = document.createElement(\"div\"), m.__hue_field.className = \"hue-field\", m.__input = document.createElement(\"input\"), m.__input.type = \"text\", m.__input_textShadow = \"0 1px 1px \", l.bind(m.__input, \"keydown\", function (F) {\n          F.keyCode === 13 && b.call(this);\n        }), l.bind(m.__input, \"blur\", b), l.bind(m.__selector, \"mousedown\", function () {\n          l.addClass(this, \"drag\").bind(window, \"mouseup\", function () {\n            l.removeClass(R.__selector, \"drag\");\n          });\n        }), l.bind(m.__selector, \"touchstart\", function () {\n          l.addClass(this, \"drag\").bind(window, \"touchend\", function () {\n            l.removeClass(R.__selector, \"drag\");\n          });\n        });\n        var q = document.createElement(\"div\");\n        return d.extend(m.__selector.style, {\n          width: \"122px\",\n          height: \"102px\",\n          padding: \"3px\",\n          backgroundColor: \"#222\",\n          boxShadow: \"0px 1px 3px rgba(0,0,0,0.3)\"\n        }), d.extend(m.__field_knob.style, {\n          position: \"absolute\",\n          width: \"12px\",\n          height: \"12px\",\n          border: m.__field_knob_border + (m.__color.v < 0.5 ? \"#fff\" : \"#000\"),\n          boxShadow: \"0px 1px 3px rgba(0,0,0,0.5)\",\n          borderRadius: \"12px\",\n          zIndex: 1\n        }), d.extend(m.__hue_knob.style, {\n          position: \"absolute\",\n          width: \"15px\",\n          height: \"2px\",\n          borderRight: \"4px solid #fff\",\n          zIndex: 1\n        }), d.extend(m.__saturation_field.style, {\n          width: \"100px\",\n          height: \"100px\",\n          border: \"1px solid #555\",\n          marginRight: \"3px\",\n          display: \"inline-block\",\n          cursor: \"pointer\"\n        }), d.extend(q.style, {\n          width: \"100%\",\n          height: \"100%\",\n          background: \"none\"\n        }), P(q, \"top\", \"rgba(0,0,0,0)\", \"#000\"), d.extend(m.__hue_field.style, {\n          width: \"15px\",\n          height: \"100px\",\n          border: \"1px solid #555\",\n          cursor: \"ns-resize\",\n          position: \"absolute\",\n          top: \"3px\",\n          right: \"3px\"\n        }), Je(m.__hue_field), d.extend(m.__input.style, {\n          outline: \"none\",\n          textAlign: \"center\",\n          color: \"#fff\",\n          border: 0,\n          fontWeight: \"bold\",\n          textShadow: m.__input_textShadow + \"rgba(0,0,0,0.7)\"\n        }), l.bind(m.__saturation_field, \"mousedown\", u), l.bind(m.__saturation_field, \"touchstart\", u), l.bind(m.__field_knob, \"mousedown\", u), l.bind(m.__field_knob, \"touchstart\", u), l.bind(m.__hue_field, \"mousedown\", c), l.bind(m.__hue_field, \"touchstart\", c), m.__saturation_field.appendChild(q), m.__selector.appendChild(m.__field_knob), m.__selector.appendChild(m.__saturation_field), m.__selector.appendChild(m.__hue_field), m.__hue_field.appendChild(m.__hue_knob), m.domElement.appendChild(m.__input), m.domElement.appendChild(m.__selector), m.updateDisplay(), m;\n      }\n      return K(t, x), z(t, [{\n        key: \"updateDisplay\",\n        value: function () {\n          var i = we(this.getValue());\n          if (i !== !1) {\n            var n = !1;\n            d.each(E.COMPONENTS, function (h) {\n              if (!d.isUndefined(i[h]) && !d.isUndefined(this.__color.__state[h]) && i[h] !== this.__color.__state[h]) return n = !0, {};\n            }, this), n && d.extend(this.__color.__state, i);\n          }\n          d.extend(this.__temp.__state, this.__color.__state), this.__temp.a = 1;\n          var u = this.__color.v < 0.5 || this.__color.s > 0.5 ? 255 : 0,\n            c = 255 - u;\n          d.extend(this.__field_knob.style, {\n            marginLeft: 100 * this.__color.s - 7 + \"px\",\n            marginTop: 100 * (1 - this.__color.v) - 7 + \"px\",\n            backgroundColor: this.__temp.toHexString(),\n            border: this.__field_knob_border + \"rgb(\" + u + \",\" + u + \",\" + u + \")\"\n          }), this.__hue_knob.style.marginTop = 100 * (1 - this.__color.h / 360) + \"px\", this.__temp.s = 1, this.__temp.v = 1, P(this.__saturation_field, \"left\", \"#fff\", this.__temp.toHexString()), this.__input.value = this.__color.toString(), d.extend(this.__input.style, {\n            backgroundColor: this.__color.toHexString(),\n            color: \"rgb(\" + u + \",\" + u + \",\" + u + \")\",\n            textShadow: this.__input_textShadow + \"rgba(\" + c + \",\" + c + \",\" + c + \",.7)\"\n          });\n        }\n      }]), t;\n    }(),\n    Re = [\"-moz-\", \"-o-\", \"-webkit-\", \"-ms-\", \"\"],\n    ge = {\n      load: function (e, t) {\n        var i = t || document,\n          n = i.createElement(\"link\");\n        n.type = \"text/css\", n.rel = \"stylesheet\", n.href = e, i.getElementsByTagName(\"head\")[0].appendChild(n);\n      },\n      inject: function (e, t) {\n        var i = t || document,\n          n = document.createElement(\"style\");\n        n.type = \"text/css\", n.innerHTML = e;\n        var u = i.getElementsByTagName(\"head\")[0];\n        try {\n          u.appendChild(n);\n        } catch {}\n      }\n    },\n    Ce = function (e, t) {\n      var i = e[t];\n      return d.isArray(arguments[2]) || d.isObject(arguments[2]) ? new Ne(e, t, arguments[2]) : d.isNumber(i) ? d.isNumber(arguments[2]) && d.isNumber(arguments[3]) ? d.isNumber(arguments[4]) ? new ue(e, t, arguments[2], arguments[3], arguments[4]) : new ue(e, t, arguments[2], arguments[3]) : d.isNumber(arguments[4]) ? new le(e, t, {\n        min: arguments[2],\n        max: arguments[3],\n        step: arguments[4]\n      }) : new le(e, t, {\n        min: arguments[2],\n        max: arguments[3]\n      }) : d.isString(i) ? new Be(e, t) : d.isFunction(i) ? new Ae(e, t, \"\") : d.isBoolean(i) ? new se(e, t) : null;\n    },\n    He = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (e) {\n      setTimeout(e, 1e3 / 60);\n    },\n    ke = function () {\n      function e() {\n        M(this, e), this.backgroundElement = document.createElement(\"div\"), d.extend(this.backgroundElement.style, {\n          backgroundColor: \"rgba(0,0,0,0.8)\",\n          top: 0,\n          left: 0,\n          display: \"none\",\n          zIndex: \"1000\",\n          opacity: 0,\n          WebkitTransition: \"opacity 0.2s linear\",\n          transition: \"opacity 0.2s linear\"\n        }), l.makeFullscreen(this.backgroundElement), this.backgroundElement.style.position = \"fixed\", this.domElement = document.createElement(\"div\"), d.extend(this.domElement.style, {\n          position: \"fixed\",\n          display: \"none\",\n          zIndex: \"1001\",\n          opacity: 0,\n          WebkitTransition: \"-webkit-transform 0.2s ease-out, opacity 0.2s linear\",\n          transition: \"transform 0.2s ease-out, opacity 0.2s linear\"\n        }), document.body.appendChild(this.backgroundElement), document.body.appendChild(this.domElement);\n        var t = this;\n        l.bind(this.backgroundElement, \"click\", function () {\n          t.hide();\n        });\n      }\n      return z(e, [{\n        key: \"show\",\n        value: function () {\n          var t = this;\n          this.backgroundElement.style.display = \"block\", this.domElement.style.display = \"block\", this.domElement.style.opacity = 0, this.domElement.style.webkitTransform = \"scale(1.1)\", this.layout(), d.defer(function () {\n            t.backgroundElement.style.opacity = 1, t.domElement.style.opacity = 1, t.domElement.style.webkitTransform = \"scale(1)\";\n          });\n        }\n      }, {\n        key: \"hide\",\n        value: function () {\n          var t = this,\n            i = function n() {\n              t.domElement.style.display = \"none\", t.backgroundElement.style.display = \"none\", l.unbind(t.domElement, \"webkitTransitionEnd\", n), l.unbind(t.domElement, \"transitionend\", n), l.unbind(t.domElement, \"oTransitionEnd\", n);\n            };\n          l.bind(this.domElement, \"webkitTransitionEnd\", i), l.bind(this.domElement, \"transitionend\", i), l.bind(this.domElement, \"oTransitionEnd\", i), this.backgroundElement.style.opacity = 0, this.domElement.style.opacity = 0, this.domElement.style.webkitTransform = \"scale(1.1)\";\n        }\n      }, {\n        key: \"layout\",\n        value: function () {\n          this.domElement.style.left = window.innerWidth / 2 - l.getWidth(this.domElement) / 2 + \"px\", this.domElement.style.top = window.innerHeight / 2 - l.getHeight(this.domElement) / 2 + \"px\";\n        }\n      }]), e;\n    }(),\n    Q = function (e) {\n      if (e && typeof window < \"u\") {\n        var t = document.createElement(\"style\");\n        return t.setAttribute(\"type\", \"text/css\"), t.innerHTML = e, document.head.appendChild(t), e;\n      }\n    }(\".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\\n\");\n  ge.inject(Q);\n  var I = \"Default\",\n    re = function () {\n      try {\n        return !!window.localStorage;\n      } catch {\n        return !1;\n      }\n    }(),\n    ce = void 0,\n    ne = !0,\n    Y = void 0,\n    de = !1,\n    j = [],\n    C = function e(t) {\n      var i = this,\n        n = t || {};\n      this.domElement = document.createElement(\"div\"), this.__ul = document.createElement(\"ul\"), this.domElement.appendChild(this.__ul), l.addClass(this.domElement, \"dg\"), this.__folders = {}, this.__controllers = [], this.__rememberedObjects = [], this.__rememberedObjectIndecesToControllers = [], this.__listening = [], n = d.defaults(n, {\n        closeOnTop: !1,\n        autoPlace: !0,\n        width: e.DEFAULT_WIDTH\n      }), n = d.defaults(n, {\n        resizable: n.autoPlace,\n        hideable: n.autoPlace\n      }), d.isUndefined(n.load) ? n.load = {\n        preset: I\n      } : n.preset && (n.load.preset = n.preset), d.isUndefined(n.parent) && n.hideable && j.push(this), n.resizable = d.isUndefined(n.parent) && n.resizable, n.autoPlace && d.isUndefined(n.scrollable) && (n.scrollable = !0);\n      var u = re && localStorage.getItem(ie(this, \"isLocal\")) === \"true\",\n        c = void 0,\n        h = void 0;\n      if (Object.defineProperties(this, {\n        parent: {\n          get: function () {\n            return n.parent;\n          }\n        },\n        scrollable: {\n          get: function () {\n            return n.scrollable;\n          }\n        },\n        autoPlace: {\n          get: function () {\n            return n.autoPlace;\n          }\n        },\n        closeOnTop: {\n          get: function () {\n            return n.closeOnTop;\n          }\n        },\n        preset: {\n          get: function () {\n            return i.parent ? i.getRoot().preset : n.load.preset;\n          },\n          set: function (v) {\n            i.parent ? i.getRoot().preset = v : n.load.preset = v, Ze(this), i.revert();\n          }\n        },\n        width: {\n          get: function () {\n            return n.width;\n          },\n          set: function (v) {\n            n.width = v, Le(i, v);\n          }\n        },\n        name: {\n          get: function () {\n            return n.name;\n          },\n          set: function (v) {\n            n.name = v, h && (h.innerHTML = n.name);\n          }\n        },\n        closed: {\n          get: function () {\n            return n.closed;\n          },\n          set: function (v) {\n            n.closed = v, n.closed ? l.addClass(i.__ul, e.CLASS_CLOSED) : l.removeClass(i.__ul, e.CLASS_CLOSED), this.onResize(), i.__closeButton && (i.__closeButton.innerHTML = v ? e.TEXT_OPEN : e.TEXT_CLOSED);\n          }\n        },\n        load: {\n          get: function () {\n            return n.load;\n          }\n        },\n        useLocalStorage: {\n          get: function () {\n            return u;\n          },\n          set: function (v) {\n            re && (u = v, v ? l.bind(window, \"unload\", c) : l.unbind(window, \"unload\", c), localStorage.setItem(ie(i, \"isLocal\"), v));\n          }\n        }\n      }), d.isUndefined(n.parent)) {\n        if (n.closed = !1, l.addClass(this.domElement, e.CLASS_MAIN), l.makeSelectable(this.domElement, !1), re && u) {\n          i.useLocalStorage = !0;\n          var g = localStorage.getItem(ie(this, \"gui\"));\n          g && (n.load = JSON.parse(g));\n        }\n        this.__closeButton = document.createElement(\"div\"), this.__closeButton.innerHTML = e.TEXT_CLOSED, l.addClass(this.__closeButton, e.CLASS_CLOSE_BUTTON), n.closeOnTop ? (l.addClass(this.__closeButton, e.CLASS_CLOSE_TOP), this.domElement.insertBefore(this.__closeButton, this.domElement.childNodes[0])) : (l.addClass(this.__closeButton, e.CLASS_CLOSE_BOTTOM), this.domElement.appendChild(this.__closeButton)), l.bind(this.__closeButton, \"click\", function () {\n          i.closed = !i.closed;\n        });\n      } else {\n        n.closed === void 0 && (n.closed = !0);\n        var b = document.createTextNode(n.name);\n        l.addClass(b, \"controller-name\"), h = G(i, b), l.addClass(this.__ul, e.CLASS_CLOSED), l.addClass(h, \"title\"), l.bind(h, \"click\", function (v) {\n          return v.preventDefault(), i.closed = !i.closed, !1;\n        }), n.closed || (this.closed = !1);\n      }\n      n.autoPlace && (d.isUndefined(n.parent) && (ne && (Y = document.createElement(\"div\"), l.addClass(Y, \"dg\"), l.addClass(Y, e.CLASS_AUTO_PLACE_CONTAINER), document.body.appendChild(Y), ne = !1), Y.appendChild(this.domElement), l.addClass(this.domElement, e.CLASS_AUTO_PLACE)), this.parent || Le(i, n.width)), this.__resizeHandler = function () {\n        i.onResizeDebounced();\n      }, l.bind(window, \"resize\", this.__resizeHandler), l.bind(this.__ul, \"webkitTransitionEnd\", this.__resizeHandler), l.bind(this.__ul, \"transitionend\", this.__resizeHandler), l.bind(this.__ul, \"oTransitionEnd\", this.__resizeHandler), this.onResize(), n.resizable && qe(this), c = function () {\n        re && localStorage.getItem(ie(i, \"isLocal\")) === \"true\" && localStorage.setItem(ie(i, \"gui\"), JSON.stringify(i.getSaveObject()));\n      }, this.saveToLocalStorageIfPossible = c, n.parent || function () {\n        var v = i.getRoot();\n        v.width += 1, d.defer(function () {\n          v.width -= 1;\n        });\n      }();\n    };\n  C.toggleHide = function () {\n    de = !de, d.each(j, function (e) {\n      e.domElement.style.display = de ? \"none\" : \"\";\n    });\n  }, C.CLASS_AUTO_PLACE = \"a\", C.CLASS_AUTO_PLACE_CONTAINER = \"ac\", C.CLASS_MAIN = \"main\", C.CLASS_CONTROLLER_ROW = \"cr\", C.CLASS_TOO_TALL = \"taller-than-window\", C.CLASS_CLOSED = \"closed\", C.CLASS_CLOSE_BUTTON = \"close-button\", C.CLASS_CLOSE_TOP = \"close-top\", C.CLASS_CLOSE_BOTTOM = \"close-bottom\", C.CLASS_DRAG = \"drag\", C.DEFAULT_WIDTH = 245, C.TEXT_CLOSED = \"Close Controls\", C.TEXT_OPEN = \"Open Controls\", C._keydownHandler = function (e) {\n    document.activeElement.type === \"text\" || e.which !== 72 && e.keyCode !== 72 || C.toggleHide();\n  }, l.bind(window, \"keydown\", C._keydownHandler, !1), d.extend(C.prototype, {\n    add: function (e, t) {\n      return ae(this, e, t, {\n        factoryArgs: Array.prototype.slice.call(arguments, 2)\n      });\n    },\n    addColor: function (e, t) {\n      return ae(this, e, t, {\n        color: !0\n      });\n    },\n    remove: function (e) {\n      this.__ul.removeChild(e.__li), this.__controllers.splice(this.__controllers.indexOf(e), 1);\n      var t = this;\n      d.defer(function () {\n        t.onResize();\n      });\n    },\n    destroy: function () {\n      if (this.parent) throw new Error(\"Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.\");\n      this.autoPlace && Y.removeChild(this.domElement);\n      var e = this;\n      d.each(this.__folders, function (t) {\n        e.removeFolder(t);\n      }), l.unbind(window, \"keydown\", C._keydownHandler, !1), Ue(this);\n    },\n    addFolder: function (e) {\n      if (this.__folders[e] !== void 0) throw new Error('You already have a folder in this GUI by the name \"' + e + '\"');\n      var t = {\n        name: e,\n        parent: this\n      };\n      t.autoPlace = this.autoPlace, this.load && this.load.folders && this.load.folders[e] && (t.closed = this.load.folders[e].closed, t.load = this.load.folders[e]);\n      var i = new C(t);\n      this.__folders[e] = i;\n      var n = G(this, i.domElement);\n      return l.addClass(n, \"folder\"), i;\n    },\n    removeFolder: function (e) {\n      this.__ul.removeChild(e.domElement.parentElement), delete this.__folders[e.name], this.load && this.load.folders && this.load.folders[e.name] && delete this.load.folders[e.name], Ue(e);\n      var t = this;\n      d.each(e.__folders, function (i) {\n        e.removeFolder(i);\n      }), d.defer(function () {\n        t.onResize();\n      });\n    },\n    open: function () {\n      this.closed = !1;\n    },\n    close: function () {\n      this.closed = !0;\n    },\n    onResize: function () {\n      var e = this.getRoot();\n      if (e.scrollable) {\n        var t = l.getOffset(e.__ul).top,\n          i = 0;\n        d.each(e.__ul.childNodes, function (n) {\n          e.autoPlace && n === e.__save_row || (i += l.getHeight(n));\n        }), window.innerHeight - t - 20 < i ? (l.addClass(e.domElement, C.CLASS_TOO_TALL), e.__ul.style.height = window.innerHeight - t - 20 + \"px\") : (l.removeClass(e.domElement, C.CLASS_TOO_TALL), e.__ul.style.height = \"auto\");\n      }\n      e.__resize_handle && d.defer(function () {\n        e.__resize_handle.style.height = e.__ul.offsetHeight + \"px\";\n      }), e.__closeButton && (e.__closeButton.style.width = e.width + \"px\");\n    },\n    onResizeDebounced: d.debounce(function () {\n      this.onResize();\n    }, 50),\n    remember: function () {\n      if (d.isUndefined(ce) && ((ce = new ke()).domElement.innerHTML = \"<div id=\\\"dg-save\\\" class=\\\"dg dialogue\\\">\\n\\n  Here's the new load parameter for your <code>GUI</code>'s constructor:\\n\\n  <textarea id=\\\"dg-new-constructor\\\"></textarea>\\n\\n  <div id=\\\"dg-save-locally\\\">\\n\\n    <input id=\\\"dg-local-storage\\\" type=\\\"checkbox\\\"/> Automatically save\\n    values to <code>localStorage</code> on exit.\\n\\n    <div id=\\\"dg-local-explain\\\">The values saved to <code>localStorage</code> will\\n      override those passed to <code>dat.GUI</code>'s constructor. This makes it\\n      easier to work incrementally, but <code>localStorage</code> is fragile,\\n      and your friends may not see the same values you do.\\n\\n    </div>\\n\\n  </div>\\n\\n</div>\"), this.parent) throw new Error(\"You can only call remember on a top level GUI.\");\n      var e = this;\n      d.each(Array.prototype.slice.call(arguments), function (t) {\n        e.__rememberedObjects.length === 0 && U(e), e.__rememberedObjects.indexOf(t) === -1 && e.__rememberedObjects.push(t);\n      }), this.autoPlace && Le(this, this.width);\n    },\n    getRoot: function () {\n      for (var e = this; e.parent;) e = e.parent;\n      return e;\n    },\n    getSaveObject: function () {\n      var e = this.load;\n      return e.closed = this.closed, this.__rememberedObjects.length > 0 && (e.preset = this.preset, e.remembered || (e.remembered = {}), e.remembered[this.preset] = Ee(this)), e.folders = {}, d.each(this.__folders, function (t, i) {\n        e.folders[i] = t.getSaveObject();\n      }), e;\n    },\n    save: function () {\n      this.load.remembered || (this.load.remembered = {}), this.load.remembered[this.preset] = Ee(this), Oe(this, !1), this.saveToLocalStorageIfPossible();\n    },\n    saveAs: function (e) {\n      this.load.remembered || (this.load.remembered = {}, this.load.remembered[I] = Ee(this, !0)), this.load.remembered[e] = Ee(this), this.preset = e, N(this, e, !0), this.saveToLocalStorageIfPossible();\n    },\n    revert: function (e) {\n      d.each(this.__controllers, function (t) {\n        this.getRoot().load.remembered ? k(e || this.getRoot(), t) : t.setValue(t.initialValue), t.__onFinishChange && t.__onFinishChange.call(t, t.getValue());\n      }, this), d.each(this.__folders, function (t) {\n        t.revert(t);\n      }), e || Oe(this.getRoot(), !1);\n    },\n    listen: function (e) {\n      var t = this.__listening.length === 0;\n      this.__listening.push(e), t && Ie(this.__listening);\n    },\n    updateDisplay: function () {\n      d.each(this.__controllers, function (e) {\n        e.updateDisplay();\n      }), d.each(this.__folders, function (e) {\n        e.updateDisplay();\n      });\n    }\n  });\n  var Ge = {\n      Color: E,\n      math: pe,\n      interpret: we\n    },\n    Xe = {\n      Controller: x,\n      BooleanController: se,\n      OptionController: Ne,\n      StringController: Be,\n      NumberController: oe,\n      NumberControllerBox: le,\n      NumberControllerSlider: ue,\n      FunctionController: Ae,\n      ColorController: ve\n    },\n    H = {\n      dom: l\n    },\n    De = {\n      GUI: C\n    },\n    Ve = C,\n    Ye = {\n      color: Ge,\n      controllers: Xe,\n      dom: H,\n      gui: De,\n      GUI: Ve\n    };\n  V.color = Ge, V.controllers = Xe, V.dom = H, V.gui = De, V.GUI = Ve, V.default = Ye, Object.defineProperty(V, \"__esModule\", {\n    value: !0\n  });\n});\nfunction dt(V, p) {\n  const D = V;\n  h(), p = {\n    IMMEDIATE: !0,\n    TRIGGER: \"hover\",\n    SIM_RESOLUTION: 128,\n    DYE_RESOLUTION: 1024,\n    CAPTURE_RESOLUTION: 512,\n    DENSITY_DISSIPATION: 1,\n    VELOCITY_DISSIPATION: 0.2,\n    PRESSURE: 0.8,\n    PRESSURE_ITERATIONS: 20,\n    CURL: 30,\n    SPLAT_RADIUS: 0.25,\n    SPLAT_FORCE: 6e3,\n    SPLAT_COUNT: parseInt(Math.random() * 20) + 5,\n    SHADING: !0,\n    COLORFUL: !0,\n    COLOR_UPDATE_SPEED: 10,\n    PAUSED: !1,\n    BACK_COLOR: {\n      r: 0,\n      g: 0,\n      b: 0\n    },\n    TRANSPARENT: !1,\n    BLOOM: !0,\n    BLOOM_ITERATIONS: 8,\n    BLOOM_RESOLUTION: 256,\n    BLOOM_INTENSITY: 0.8,\n    BLOOM_THRESHOLD: 0.6,\n    BLOOM_SOFT_KNEE: 0.7,\n    SUNRAYS: !0,\n    SUNRAYS_RESOLUTION: 196,\n    SUNRAYS_WEIGHT: 1,\n    ...p\n  };\n  function he() {\n    this.id = -1, this.texcoordX = 0, this.texcoordY = 0, this.prevTexcoordX = 0, this.prevTexcoordY = 0, this.deltaX = 0, this.deltaY = 0, this.down = !1, this.moved = !1, this.color = [30, 0, 300];\n  }\n  let B = [],\n    ye = [],\n    te = [];\n  B.push(new he());\n  const {\n    gl: r,\n    ext: P\n  } = Je(D);\n  Oe() && (p.DYE_RESOLUTION = 512), P.supportLinearFiltering || (p.DYE_RESOLUTION = 512, p.SHADING = !1, p.BLOOM = !1, p.SUNRAYS = !1);\n  function Je(o) {\n    const s = {\n      alpha: !0,\n      depth: !1,\n      stencil: !1,\n      antialias: !1,\n      preserveDrawingBuffer: !1\n    };\n    let a = o.getContext(\"webgl2\", s);\n    const f = !!a;\n    f || (a = o.getContext(\"webgl\", s) || o.getContext(\"experimental-webgl\", s));\n    let _, w;\n    f ? (a.getExtension(\"EXT_color_buffer_float\"), w = a.getExtension(\"OES_texture_float_linear\")) : (_ = a.getExtension(\"OES_texture_half_float\"), w = a.getExtension(\"OES_texture_half_float_linear\")), a.clearColor(0, 0, 0, 1);\n    const y = f ? a.HALF_FLOAT : _.HALF_FLOAT_OES;\n    let L, O, ee;\n    return f ? (L = G(a, a.RGBA16F, a.RGBA, y), O = G(a, a.RG16F, a.RG, y), ee = G(a, a.R16F, a.RED, y)) : (L = G(a, a.RGBA, a.RGBA, y), O = G(a, a.RGBA, a.RGBA, y), ee = G(a, a.RGBA, a.RGBA, y)), {\n      gl: a,\n      ext: {\n        formatRGBA: L,\n        formatRG: O,\n        formatR: ee,\n        halfFloatTexType: y,\n        supportLinearFiltering: w\n      }\n    };\n  }\n  function G(o, s, a, f) {\n    if (!Ue(o, s, a, f)) switch (s) {\n      case o.R16F:\n        return G(o, o.RG16F, o.RG, f);\n      case o.RG16F:\n        return G(o, o.RGBA16F, o.RGBA, f);\n      default:\n        return null;\n    }\n    return {\n      internalFormat: s,\n      format: a\n    };\n  }\n  function Ue(o, s, a, f) {\n    let _ = o.createTexture();\n    o.bindTexture(o.TEXTURE_2D, _), o.texParameteri(o.TEXTURE_2D, o.TEXTURE_MIN_FILTER, o.NEAREST), o.texParameteri(o.TEXTURE_2D, o.TEXTURE_MAG_FILTER, o.NEAREST), o.texParameteri(o.TEXTURE_2D, o.TEXTURE_WRAP_S, o.CLAMP_TO_EDGE), o.texParameteri(o.TEXTURE_2D, o.TEXTURE_WRAP_T, o.CLAMP_TO_EDGE), o.texImage2D(o.TEXTURE_2D, 0, s, 4, 4, 0, a, f, null);\n    let w = o.createFramebuffer();\n    return o.bindFramebuffer(o.FRAMEBUFFER, w), o.framebufferTexture2D(o.FRAMEBUFFER, o.COLOR_ATTACHMENT0, o.TEXTURE_2D, _, 0), o.checkFramebufferStatus(o.FRAMEBUFFER) == o.FRAMEBUFFER_COMPLETE;\n  }\n  function Oe() {\n    return /Mobi|Android/i.test(navigator.userAgent);\n  }\n  class Qe {\n    constructor(s, a) {\n      this.vertexShader = s, this.fragmentShaderSource = a, this.programs = [], this.activeProgram = null, this.uniforms = [];\n    }\n    setKeywords(s) {\n      let a = 0;\n      for (let _ = 0; _ < s.length; _++) a += ct(s[_]);\n      let f = this.programs[a];\n      if (f == null) {\n        let _ = N(r.FRAGMENT_SHADER, this.fragmentShaderSource, s);\n        f = ae(this.vertexShader, _), this.programs[a] = f;\n      }\n      f != this.activeProgram && (this.uniforms = ie(f), this.activeProgram = f);\n    }\n    bind() {\n      r.useProgram(this.activeProgram);\n    }\n  }\n  class k {\n    constructor(s, a) {\n      this.uniforms = {}, this.program = ae(s, a), this.uniforms = ie(this.program);\n    }\n    bind() {\n      r.useProgram(this.program);\n    }\n  }\n  function ae(o, s) {\n    let a = r.createProgram();\n    if (r.attachShader(a, o), r.attachShader(a, s), r.linkProgram(a), !r.getProgramParameter(a, r.LINK_STATUS)) throw r.getProgramInfoLog(a);\n    return a;\n  }\n  function ie(o) {\n    let s = [],\n      a = r.getProgramParameter(o, r.ACTIVE_UNIFORMS);\n    for (let f = 0; f < a; f++) {\n      let _ = r.getActiveUniform(o, f).name;\n      s[_] = r.getUniformLocation(o, _);\n    }\n    return s;\n  }\n  function N(o, s, a) {\n    s = Pe(s, a);\n    const f = r.createShader(o);\n    if (r.shaderSource(f, s), r.compileShader(f), !r.getShaderParameter(f, r.COMPILE_STATUS)) throw r.getShaderInfoLog(f);\n    return f;\n  }\n  function Pe(o, s) {\n    if (s == null) return o;\n    let a = \"\";\n    return s.forEach(f => {\n      a += \"#define \" + f + \"\\n\";\n    }), a + o;\n  }\n  const U = N(r.VERTEX_SHADER, \"\\n    precision highp float;\\n    attribute vec2 aPosition;\\n    varying vec2 vUv;\\n    varying vec2 vL;\\n    varying vec2 vR;\\n    varying vec2 vT;\\n    varying vec2 vB;\\n    uniform vec2 texelSize;\\n    void main () {\\n        vUv = aPosition * 0.5 + 0.5;\\n        vL = vUv - vec2(texelSize.x, 0.0);\\n        vR = vUv + vec2(texelSize.x, 0.0);\\n        vT = vUv + vec2(0.0, texelSize.y);\\n        vB = vUv - vec2(0.0, texelSize.y);\\n        gl_Position = vec4(aPosition, 0.0, 1.0);\\n    }\\n\"),\n    qe = N(r.VERTEX_SHADER, \"\\n    precision highp float;\\n    attribute vec2 aPosition;\\n    varying vec2 vUv;\\n    varying vec2 vL;\\n    varying vec2 vR;\\n    uniform vec2 texelSize;\\n    void main () {\\n        vUv = aPosition * 0.5 + 0.5;\\n        float offset = 1.33333333;\\n        vL = vUv - texelSize * offset;\\n        vR = vUv + texelSize * offset;\\n        gl_Position = vec4(aPosition, 0.0, 1.0);\\n    }\\n\"),\n    Le = N(r.FRAGMENT_SHADER, \"\\n    precision mediump float;\\n    precision mediump sampler2D;\\n    varying vec2 vUv;\\n    varying vec2 vL;\\n    varying vec2 vR;\\n    uniform sampler2D uTexture;\\n    void main () {\\n        vec4 sum = texture2D(uTexture, vUv) * 0.29411764;\\n        sum += texture2D(uTexture, vL) * 0.35294117;\\n        sum += texture2D(uTexture, vR) * 0.35294117;\\n        gl_FragColor = sum;\\n    }\\n\"),\n    Ee = N(r.FRAGMENT_SHADER, \"\\n    precision mediump float;\\n    precision mediump sampler2D;\\n    varying highp vec2 vUv;\\n    uniform sampler2D uTexture;\\n    void main () {\\n        gl_FragColor = texture2D(uTexture, vUv);\\n    }\\n\"),\n    Ze = N(r.FRAGMENT_SHADER, \"\\n    precision mediump float;\\n    precision mediump sampler2D;\\n    varying highp vec2 vUv;\\n    uniform sampler2D uTexture;\\n    uniform float value;\\n    void main () {\\n        gl_FragColor = value * texture2D(uTexture, vUv);\\n    }\\n\"),\n    Ie = N(r.FRAGMENT_SHADER, \"\\n    precision mediump float;\\n    uniform vec4 color;\\n    void main () {\\n        gl_FragColor = color;\\n    }\\n\"),\n    Me = N(r.FRAGMENT_SHADER, p.TRANSPARENT ? \"\\n    precision highp float;\\n    precision highp sampler2D;\\n    varying vec2 vUv;\\n    uniform sampler2D uTexture;\\n    uniform float aspectRatio;\\n    #define SCALE 25.0\\n    void main () {\\n        vec2 uv = floor(vUv * SCALE * vec2(aspectRatio, 1.0));\\n        float v = mod(uv.x + uv.y, 2.0);\\n        v = v * 0.1 + 0.8;\\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\\n    }\\n\" : \"\\n    precision highp float;\\n    precision highp sampler2D;\\n    varying vec2 vUv;\\n    uniform sampler2D uTexture;\\n    uniform float aspectRatio;\\n    #define SCALE 25.0\\n    void main () {\\n        vec2 uv = floor(vUv * SCALE * vec2(aspectRatio, 1.0));\\n        float v = mod(uv.x + uv.y, 2.0);\\n        v = v * 0.1 + 0.8;\\n        gl_FragColor = vec4(vec3(v), 1.0);\\n    }\\n\"),\n    me = \"\\n    precision highp float;\\n    precision highp sampler2D;\\n    varying vec2 vUv;\\n    varying vec2 vL;\\n    varying vec2 vR;\\n    varying vec2 vT;\\n    varying vec2 vB;\\n    uniform sampler2D uTexture;\\n    uniform sampler2D uBloom;\\n    uniform sampler2D uSunrays;\\n    uniform sampler2D uDithering;\\n    uniform vec2 ditherScale;\\n    uniform vec2 texelSize;\\n    vec3 linearToGamma (vec3 color) {\\n        color = max(color, vec3(0));\\n        return max(1.055 * pow(color, vec3(0.416666667)) - 0.055, vec3(0));\\n    }\\n    void main () {\\n        vec3 c = texture2D(uTexture, vUv).rgb;\\n    #ifdef SHADING\\n        vec3 lc = texture2D(uTexture, vL).rgb;\\n        vec3 rc = texture2D(uTexture, vR).rgb;\\n        vec3 tc = texture2D(uTexture, vT).rgb;\\n        vec3 bc = texture2D(uTexture, vB).rgb;\\n        float dx = length(rc) - length(lc);\\n        float dy = length(tc) - length(bc);\\n        vec3 n = normalize(vec3(dx, dy, length(texelSize)));\\n        vec3 l = vec3(0.0, 0.0, 1.0);\\n        float diffuse = clamp(dot(n, l) + 0.7, 0.7, 1.0);\\n        c *= diffuse;\\n    #endif\\n    #ifdef BLOOM\\n        vec3 bloom = texture2D(uBloom, vUv).rgb;\\n    #endif\\n    #ifdef SUNRAYS\\n        float sunrays = texture2D(uSunrays, vUv).r;\\n        c *= sunrays;\\n    #ifdef BLOOM\\n        bloom *= sunrays;\\n    #endif\\n    #endif\\n    #ifdef BLOOM\\n        float noise = texture2D(uDithering, vUv * ditherScale).r;\\n        noise = noise * 2.0 - 1.0;\\n        bloom += noise / 255.0;\\n        bloom = linearToGamma(bloom);\\n        c += bloom;\\n    #endif\\n        float a = max(c.r, max(c.g, c.b));\\n        gl_FragColor = vec4(c, a);\\n    }\\n\",\n    d = N(r.FRAGMENT_SHADER, \"\\n    precision mediump float;\\n    precision mediump sampler2D;\\n    varying vec2 vUv;\\n    uniform sampler2D uTexture;\\n    uniform vec3 curve;\\n    uniform float threshold;\\n    void main () {\\n        vec3 c = texture2D(uTexture, vUv).rgb;\\n        float br = max(c.r, max(c.g, c.b));\\n        float rq = clamp(br - curve.x, 0.0, curve.y);\\n        rq = curve.z * rq * rq;\\n        c *= max(rq, br - threshold) / max(br, 0.0001);\\n        gl_FragColor = vec4(c, 0.0);\\n    }\\n\"),\n    $e = N(r.FRAGMENT_SHADER, \"\\n    precision mediump float;\\n    precision mediump sampler2D;\\n    varying vec2 vL;\\n    varying vec2 vR;\\n    varying vec2 vT;\\n    varying vec2 vB;\\n    uniform sampler2D uTexture;\\n    void main () {\\n        vec4 sum = vec4(0.0);\\n        sum += texture2D(uTexture, vL);\\n        sum += texture2D(uTexture, vR);\\n        sum += texture2D(uTexture, vT);\\n        sum += texture2D(uTexture, vB);\\n        sum *= 0.25;\\n        gl_FragColor = sum;\\n    }\\n\"),\n    _e = N(r.FRAGMENT_SHADER, \"\\n    precision mediump float;\\n    precision mediump sampler2D;\\n    varying vec2 vL;\\n    varying vec2 vR;\\n    varying vec2 vT;\\n    varying vec2 vB;\\n    uniform sampler2D uTexture;\\n    uniform float intensity;\\n    void main () {\\n        vec4 sum = vec4(0.0);\\n        sum += texture2D(uTexture, vL);\\n        sum += texture2D(uTexture, vR);\\n        sum += texture2D(uTexture, vT);\\n        sum += texture2D(uTexture, vB);\\n        sum *= 0.25;\\n        gl_FragColor = sum * intensity;\\n    }\\n\"),\n    Te = N(r.FRAGMENT_SHADER, \"\\n    precision highp float;\\n    precision highp sampler2D;\\n    varying vec2 vUv;\\n    uniform sampler2D uTexture;\\n    void main () {\\n        vec4 c = texture2D(uTexture, vUv);\\n        float br = max(c.r, max(c.g, c.b));\\n        c.a = 1.0 - min(max(br * 20.0, 0.0), 0.8);\\n        gl_FragColor = c;\\n    }\\n\"),\n    we = N(r.FRAGMENT_SHADER, \"\\n    precision highp float;\\n    precision highp sampler2D;\\n    varying vec2 vUv;\\n    uniform sampler2D uTexture;\\n    uniform float weight;\\n    #define ITERATIONS 16\\n    void main () {\\n        float Density = 0.3;\\n        float Decay = 0.95;\\n        float Exposure = 0.7;\\n        vec2 coord = vUv;\\n        vec2 dir = vUv - 0.5;\\n        dir *= 1.0 / float(ITERATIONS) * Density;\\n        float illuminationDecay = 1.0;\\n        float color = texture2D(uTexture, vUv).a;\\n        for (int i = 0; i < ITERATIONS; i++)\\n        {\\n            coord -= dir;\\n            float col = texture2D(uTexture, coord).a;\\n            color += col * illuminationDecay * weight;\\n            illuminationDecay *= Decay;\\n        }\\n        gl_FragColor = vec4(color * Exposure, 0.0, 0.0, 1.0);\\n    }\\n\"),\n    ze = N(r.FRAGMENT_SHADER, \"\\n    precision highp float;\\n    precision highp sampler2D;\\n    varying vec2 vUv;\\n    uniform sampler2D uTarget;\\n    uniform float aspectRatio;\\n    uniform vec3 color;\\n    uniform vec2 point;\\n    uniform float radius;\\n    void main () {\\n        vec2 p = vUv - point.xy;\\n        p.x *= aspectRatio;\\n        vec3 splat = exp(-dot(p, p) / radius) * color;\\n        vec3 base = texture2D(uTarget, vUv).xyz;\\n        gl_FragColor = vec4(base + splat, 1.0);\\n    }\\n\"),\n    pe = N(r.FRAGMENT_SHADER, \"\\n    precision highp float;\\n    precision highp sampler2D;\\n    varying vec2 vUv;\\n    uniform sampler2D uVelocity;\\n    uniform sampler2D uSource;\\n    uniform vec2 texelSize;\\n    uniform vec2 dyeTexelSize;\\n    uniform float dt;\\n    uniform float dissipation;\\n    vec4 bilerp (sampler2D sam, vec2 uv, vec2 tsize) {\\n        vec2 st = uv / tsize - 0.5;\\n        vec2 iuv = floor(st);\\n        vec2 fuv = fract(st);\\n        vec4 a = texture2D(sam, (iuv + vec2(0.5, 0.5)) * tsize);\\n        vec4 b = texture2D(sam, (iuv + vec2(1.5, 0.5)) * tsize);\\n        vec4 c = texture2D(sam, (iuv + vec2(0.5, 1.5)) * tsize);\\n        vec4 d = texture2D(sam, (iuv + vec2(1.5, 1.5)) * tsize);\\n        return mix(mix(a, b, fuv.x), mix(c, d, fuv.x), fuv.y);\\n    }\\n    void main () {\\n    #ifdef MANUAL_FILTERING\\n        vec2 coord = vUv - dt * bilerp(uVelocity, vUv, texelSize).xy * texelSize;\\n        vec4 result = bilerp(uSource, coord, dyeTexelSize);\\n    #else\\n        vec2 coord = vUv - dt * texture2D(uVelocity, vUv).xy * texelSize;\\n        vec4 result = texture2D(uSource, coord);\\n    #endif\\n        float decay = 1.0 + dissipation * dt;\\n        gl_FragColor = result / decay;\\n    }\", P.supportLinearFiltering ? null : [\"MANUAL_FILTERING\"]),\n    et = N(r.FRAGMENT_SHADER, \"\\n    precision mediump float;\\n    precision mediump sampler2D;\\n    varying highp vec2 vUv;\\n    varying highp vec2 vL;\\n    varying highp vec2 vR;\\n    varying highp vec2 vT;\\n    varying highp vec2 vB;\\n    uniform sampler2D uVelocity;\\n    void main () {\\n        float L = texture2D(uVelocity, vL).x;\\n        float R = texture2D(uVelocity, vR).x;\\n        float T = texture2D(uVelocity, vT).y;\\n        float B = texture2D(uVelocity, vB).y;\\n        vec2 C = texture2D(uVelocity, vUv).xy;\\n        if (vL.x < 0.0) { L = -C.x; }\\n        if (vR.x > 1.0) { R = -C.x; }\\n        if (vT.y > 1.0) { T = -C.y; }\\n        if (vB.y < 0.0) { B = -C.y; }\\n        float div = 0.5 * (R - L + T - B);\\n        gl_FragColor = vec4(div, 0.0, 0.0, 1.0);\\n    }\\n\"),\n    M = N(r.FRAGMENT_SHADER, \"\\n    precision mediump float;\\n    precision mediump sampler2D;\\n    varying highp vec2 vUv;\\n    varying highp vec2 vL;\\n    varying highp vec2 vR;\\n    varying highp vec2 vT;\\n    varying highp vec2 vB;\\n    uniform sampler2D uVelocity;\\n    void main () {\\n        float L = texture2D(uVelocity, vL).y;\\n        float R = texture2D(uVelocity, vR).y;\\n        float T = texture2D(uVelocity, vT).x;\\n        float B = texture2D(uVelocity, vB).x;\\n        float vorticity = R - L - T + B;\\n        gl_FragColor = vec4(0.5 * vorticity, 0.0, 0.0, 1.0);\\n    }\\n\"),\n    z = N(r.FRAGMENT_SHADER, \"\\n    precision highp float;\\n    precision highp sampler2D;\\n    varying vec2 vUv;\\n    varying vec2 vL;\\n    varying vec2 vR;\\n    varying vec2 vT;\\n    varying vec2 vB;\\n    uniform sampler2D uVelocity;\\n    uniform sampler2D uCurl;\\n    uniform float curl;\\n    uniform float dt;\\n    void main () {\\n        float L = texture2D(uCurl, vL).x;\\n        float R = texture2D(uCurl, vR).x;\\n        float T = texture2D(uCurl, vT).x;\\n        float B = texture2D(uCurl, vB).x;\\n        float C = texture2D(uCurl, vUv).x;\\n        vec2 force = 0.5 * vec2(abs(T) - abs(B), abs(R) - abs(L));\\n        force /= length(force) + 0.0001;\\n        force *= curl * C;\\n        force.y *= -1.0;\\n        vec2 vel = texture2D(uVelocity, vUv).xy;\\n        gl_FragColor = vec4(vel + force * dt, 0.0, 1.0);\\n    }\\n\"),\n    W = N(r.FRAGMENT_SHADER, \"\\n    precision mediump float;\\n    precision mediump sampler2D;\\n    varying highp vec2 vUv;\\n    varying highp vec2 vL;\\n    varying highp vec2 vR;\\n    varying highp vec2 vT;\\n    varying highp vec2 vB;\\n    uniform sampler2D uPressure;\\n    uniform sampler2D uDivergence;\\n    void main () {\\n        float L = texture2D(uPressure, vL).x;\\n        float R = texture2D(uPressure, vR).x;\\n        float T = texture2D(uPressure, vT).x;\\n        float B = texture2D(uPressure, vB).x;\\n        float C = texture2D(uPressure, vUv).x;\\n        float divergence = texture2D(uDivergence, vUv).x;\\n        float pressure = (L + R + B + T - divergence) * 0.25;\\n        gl_FragColor = vec4(pressure, 0.0, 0.0, 1.0);\\n    }\\n\"),\n    K = N(r.FRAGMENT_SHADER, \"\\n    precision mediump float;\\n    precision mediump sampler2D;\\n    varying highp vec2 vUv;\\n    varying highp vec2 vL;\\n    varying highp vec2 vR;\\n    varying highp vec2 vT;\\n    varying highp vec2 vB;\\n    uniform sampler2D uPressure;\\n    uniform sampler2D uVelocity;\\n    void main () {\\n        float L = texture2D(uPressure, vL).x;\\n        float R = texture2D(uPressure, vR).x;\\n        float T = texture2D(uPressure, vT).x;\\n        float B = texture2D(uPressure, vB).x;\\n        vec2 velocity = texture2D(uVelocity, vUv).xy;\\n        velocity.xy -= vec2(R - L, T - B);\\n        gl_FragColor = vec4(velocity, 0.0, 1.0);\\n    }\\n\"),\n    A = (() => (r.bindBuffer(r.ARRAY_BUFFER, r.createBuffer()), r.bufferData(r.ARRAY_BUFFER, new Float32Array([-1, -1, -1, 1, 1, 1, 1, -1]), r.STATIC_DRAW), r.bindBuffer(r.ELEMENT_ARRAY_BUFFER, r.createBuffer()), r.bufferData(r.ELEMENT_ARRAY_BUFFER, new Uint16Array([0, 1, 2, 0, 2, 3]), r.STATIC_DRAW), r.vertexAttribPointer(0, 2, r.FLOAT, !1, 0, 0), r.enableVertexAttribArray(0), o => {\n      r.bindFramebuffer(r.FRAMEBUFFER, o), r.drawElements(r.TRIANGLES, 6, r.UNSIGNED_SHORT, 0);\n    }))();\n  let E,\n    x,\n    Fe,\n    Se,\n    J,\n    l,\n    se,\n    Ne,\n    Be = e();\n  const oe = new k(qe, Le),\n    le = new k(U, Ee),\n    ue = new k(U, Ze),\n    Ae = new k(U, Ie),\n    ve = new k(U, Me),\n    Re = new k(U, d),\n    ge = new k(U, $e),\n    Ce = new k(U, _e),\n    He = new k(U, Te),\n    ke = new k(U, we),\n    Q = new k(U, ze),\n    I = new k(U, pe),\n    re = new k(U, et),\n    ce = new k(U, M),\n    ne = new k(U, z),\n    Y = new k(U, W),\n    de = new k(U, K),\n    j = new Qe(U, me);\n  function C() {\n    let o = Ke(p.SIM_RESOLUTION),\n      s = Ke(p.DYE_RESOLUTION);\n    const a = P.halfFloatTexType,\n      f = P.formatRGBA,\n      _ = P.formatRG,\n      w = P.formatR,\n      y = P.supportLinearFiltering ? r.LINEAR : r.NEAREST;\n    E == null ? E = De(s.width, s.height, f.internalFormat, f.format, a, y) : E = Ye(E, s.width, s.height, f.internalFormat, f.format, a, y), x == null ? x = De(o.width, o.height, _.internalFormat, _.format, a, y) : x = Ye(x, o.width, o.height, _.internalFormat, _.format, a, y), Fe = H(o.width, o.height, w.internalFormat, w.format, a, r.NEAREST), Se = H(o.width, o.height, w.internalFormat, w.format, a, r.NEAREST), J = De(o.width, o.height, w.internalFormat, w.format, a, r.NEAREST), Ge(), Xe();\n  }\n  function Ge() {\n    let o = Ke(p.BLOOM_RESOLUTION);\n    const s = P.halfFloatTexType,\n      a = P.formatRGBA,\n      f = P.supportLinearFiltering ? r.LINEAR : r.NEAREST;\n    l = H(o.width, o.height, a.internalFormat, a.format, s, f), te.length = 0;\n    for (let _ = 0; _ < p.BLOOM_ITERATIONS; _++) {\n      let w = o.width >> _ + 1,\n        y = o.height >> _ + 1;\n      if (w < 2 || y < 2) break;\n      let L = H(w, y, a.internalFormat, a.format, s, f);\n      te.push(L);\n    }\n  }\n  function Xe() {\n    let o = Ke(p.SUNRAYS_RESOLUTION);\n    const s = P.halfFloatTexType,\n      a = P.formatR,\n      f = P.supportLinearFiltering ? r.LINEAR : r.NEAREST;\n    se = H(o.width, o.height, a.internalFormat, a.format, s, f), Ne = H(o.width, o.height, a.internalFormat, a.format, s, f);\n  }\n  function H(o, s, a, f, _, w) {\n    r.activeTexture(r.TEXTURE0);\n    let y = r.createTexture();\n    r.bindTexture(r.TEXTURE_2D, y), r.texParameteri(r.TEXTURE_2D, r.TEXTURE_MIN_FILTER, w), r.texParameteri(r.TEXTURE_2D, r.TEXTURE_MAG_FILTER, w), r.texParameteri(r.TEXTURE_2D, r.TEXTURE_WRAP_S, r.CLAMP_TO_EDGE), r.texParameteri(r.TEXTURE_2D, r.TEXTURE_WRAP_T, r.CLAMP_TO_EDGE), r.texImage2D(r.TEXTURE_2D, 0, a, o, s, 0, f, _, null);\n    let L = r.createFramebuffer();\n    r.bindFramebuffer(r.FRAMEBUFFER, L), r.framebufferTexture2D(r.FRAMEBUFFER, r.COLOR_ATTACHMENT0, r.TEXTURE_2D, y, 0), r.viewport(0, 0, o, s), r.clear(r.COLOR_BUFFER_BIT);\n    let O = 1 / o,\n      ee = 1 / s;\n    return {\n      texture: y,\n      fbo: L,\n      width: o,\n      height: s,\n      texelSizeX: O,\n      texelSizeY: ee,\n      attach(xe) {\n        return r.activeTexture(r.TEXTURE0 + xe), r.bindTexture(r.TEXTURE_2D, y), xe;\n      }\n    };\n  }\n  function De(o, s, a, f, _, w) {\n    let y = H(o, s, a, f, _, w),\n      L = H(o, s, a, f, _, w);\n    return {\n      width: o,\n      height: s,\n      texelSizeX: y.texelSizeX,\n      texelSizeY: y.texelSizeY,\n      get read() {\n        return y;\n      },\n      set read(O) {\n        y = O;\n      },\n      get write() {\n        return L;\n      },\n      set write(O) {\n        L = O;\n      },\n      swap() {\n        let O = y;\n        y = L, L = O;\n      }\n    };\n  }\n  function Ve(o, s, a, f, _, w, y) {\n    let L = H(s, a, f, _, w, y);\n    return le.bind(), r.uniform1i(le.uniforms.uTexture, o.attach(0)), A(L.fbo), L;\n  }\n  function Ye(o, s, a, f, _, w, y) {\n    return o.width == s && o.height == a || (o.read = Ve(o.read, s, a, f, _, w, y), o.write = H(s, a, f, _, w, y), o.width = s, o.height = a, o.texelSizeX = 1 / s, o.texelSizeY = 1 / a), o;\n  }\n  function e(o) {\n    let s = r.createTexture();\n    r.bindTexture(r.TEXTURE_2D, s), r.texParameteri(r.TEXTURE_2D, r.TEXTURE_MIN_FILTER, r.LINEAR), r.texParameteri(r.TEXTURE_2D, r.TEXTURE_MAG_FILTER, r.LINEAR), r.texParameteri(r.TEXTURE_2D, r.TEXTURE_WRAP_S, r.REPEAT), r.texParameteri(r.TEXTURE_2D, r.TEXTURE_WRAP_T, r.REPEAT), r.texImage2D(r.TEXTURE_2D, 0, r.RGB, 1, 1, 0, r.RGB, r.UNSIGNED_BYTE, new Uint8Array([255, 255, 255]));\n    let a = {\n        texture: s,\n        width: 1,\n        height: 1,\n        attach(_) {\n          return r.activeTexture(r.TEXTURE0 + _), r.bindTexture(r.TEXTURE_2D, s), _;\n        }\n      },\n      f = new Image();\n    return f.onload = () => {\n      a.width = f.width, a.height = f.height, r.bindTexture(r.TEXTURE_2D, s), r.texImage2D(r.TEXTURE_2D, 0, r.RGB, r.RGB, r.UNSIGNED_BYTE, f);\n    }, o && (f.src = o), a;\n  }\n  function t() {\n    let o = [];\n    p.SHADING && o.push(\"SHADING\"), p.BLOOM && o.push(\"BLOOM\"), p.SUNRAYS && o.push(\"SUNRAYS\"), j.setKeywords(o);\n  }\n  t(), C(), p.IMMEDIATE && je(p.SPLAT_COUNT);\n  let i = Date.now(),\n    n = 0;\n  u();\n  function u() {\n    const o = c();\n    h() && C(), g(o), b(), p.PAUSED || v(o), S(null), requestAnimationFrame(u);\n  }\n  function c() {\n    let o = Date.now(),\n      s = (o - i) / 1e3;\n    return s = Math.min(s, 0.016666), i = o, s;\n  }\n  function h() {\n    let o = $(D.clientWidth),\n      s = $(D.clientHeight);\n    return D.width != o || D.height != s ? (D.width = o, D.height = s, !0) : !1;\n  }\n  function g(o) {\n    p.COLORFUL && (n += o * p.COLOR_UPDATE_SPEED, n >= 1 && (n = lt(n, 0, 1), B.forEach(s => {\n      s.color = tt();\n    })));\n  }\n  function b() {\n    ye.length > 0 && je(ye.pop()), B.forEach(o => {\n      o.moved && (o.moved = !1, Z(o));\n    });\n  }\n  function v(o) {\n    r.disable(r.BLEND), r.viewport(0, 0, x.width, x.height), ce.bind(), r.uniform2f(ce.uniforms.texelSize, x.texelSizeX, x.texelSizeY), r.uniform1i(ce.uniforms.uVelocity, x.read.attach(0)), A(Se.fbo), ne.bind(), r.uniform2f(ne.uniforms.texelSize, x.texelSizeX, x.texelSizeY), r.uniform1i(ne.uniforms.uVelocity, x.read.attach(0)), r.uniform1i(ne.uniforms.uCurl, Se.attach(1)), r.uniform1f(ne.uniforms.curl, p.CURL), r.uniform1f(ne.uniforms.dt, o), A(x.write.fbo), x.swap(), re.bind(), r.uniform2f(re.uniforms.texelSize, x.texelSizeX, x.texelSizeY), r.uniform1i(re.uniforms.uVelocity, x.read.attach(0)), A(Fe.fbo), ue.bind(), r.uniform1i(ue.uniforms.uTexture, J.read.attach(0)), r.uniform1f(ue.uniforms.value, p.PRESSURE), A(J.write.fbo), J.swap(), Y.bind(), r.uniform2f(Y.uniforms.texelSize, x.texelSizeX, x.texelSizeY), r.uniform1i(Y.uniforms.uDivergence, Fe.attach(0));\n    for (let a = 0; a < p.PRESSURE_ITERATIONS; a++) r.uniform1i(Y.uniforms.uPressure, J.read.attach(1)), A(J.write.fbo), J.swap();\n    de.bind(), r.uniform2f(de.uniforms.texelSize, x.texelSizeX, x.texelSizeY), r.uniform1i(de.uniforms.uPressure, J.read.attach(0)), r.uniform1i(de.uniforms.uVelocity, x.read.attach(1)), A(x.write.fbo), x.swap(), I.bind(), r.uniform2f(I.uniforms.texelSize, x.texelSizeX, x.texelSizeY), P.supportLinearFiltering || r.uniform2f(I.uniforms.dyeTexelSize, x.texelSizeX, x.texelSizeY);\n    let s = x.read.attach(0);\n    r.uniform1i(I.uniforms.uVelocity, s), r.uniform1i(I.uniforms.uSource, s), r.uniform1f(I.uniforms.dt, o), r.uniform1f(I.uniforms.dissipation, p.VELOCITY_DISSIPATION), A(x.write.fbo), x.swap(), r.viewport(0, 0, E.width, E.height), P.supportLinearFiltering || r.uniform2f(I.uniforms.dyeTexelSize, E.texelSizeX, E.texelSizeY), r.uniform1i(I.uniforms.uVelocity, x.read.attach(0)), r.uniform1i(I.uniforms.uSource, E.read.attach(1)), r.uniform1f(I.uniforms.dissipation, p.DENSITY_DISSIPATION), A(E.write.fbo), E.swap();\n  }\n  function S(o) {\n    p.BLOOM && q(E.read, l), p.SUNRAYS && (F(E.read, E.write, se), X(se, Ne, 1)), o == null || !p.TRANSPARENT ? (r.blendFunc(r.ONE, r.ONE_MINUS_SRC_ALPHA), r.enable(r.BLEND)) : r.disable(r.BLEND);\n    let s = o == null ? r.drawingBufferWidth : o.width,\n      a = o == null ? r.drawingBufferHeight : o.height;\n    r.viewport(0, 0, s, a);\n    let f = o == null ? null : o.fbo;\n    p.TRANSPARENT || T(f, st(p.BACK_COLOR)), o == null && p.TRANSPARENT && m(f), R(f, s, a);\n  }\n  function T(o, s) {\n    Ae.bind(), r.uniform4f(Ae.uniforms.color, s.r, s.g, s.b, 1), A(o);\n  }\n  function m(o) {\n    ve.bind(), r.uniform1f(ve.uniforms.aspectRatio, D.width / D.height), A(o);\n  }\n  function R(o, s, a) {\n    if (j.bind(), p.SHADING && r.uniform2f(j.uniforms.texelSize, 1 / s, 1 / a), r.uniform1i(j.uniforms.uTexture, E.read.attach(0)), p.BLOOM) {\n      r.uniform1i(j.uniforms.uBloom, l.attach(1)), r.uniform1i(j.uniforms.uDithering, Be.attach(2));\n      let f = ut(Be, s, a);\n      r.uniform2f(j.uniforms.ditherScale, f.x, f.y);\n    }\n    p.SUNRAYS && r.uniform1i(j.uniforms.uSunrays, se.attach(3)), A(o);\n  }\n  function q(o, s) {\n    if (te.length < 2) return;\n    let a = s;\n    r.disable(r.BLEND), Re.bind();\n    let f = p.BLOOM_THRESHOLD * p.BLOOM_SOFT_KNEE + 1e-4,\n      _ = p.BLOOM_THRESHOLD - f,\n      w = f * 2,\n      y = 0.25 / f;\n    r.uniform3f(Re.uniforms.curve, _, w, y), r.uniform1f(Re.uniforms.threshold, p.BLOOM_THRESHOLD), r.uniform1i(Re.uniforms.uTexture, o.attach(0)), r.viewport(0, 0, a.width, a.height), A(a.fbo), ge.bind();\n    for (let L = 0; L < te.length; L++) {\n      let O = te[L];\n      r.uniform2f(ge.uniforms.texelSize, a.texelSizeX, a.texelSizeY), r.uniform1i(ge.uniforms.uTexture, a.attach(0)), r.viewport(0, 0, O.width, O.height), A(O.fbo), a = O;\n    }\n    r.blendFunc(r.ONE, r.ONE), r.enable(r.BLEND);\n    for (let L = te.length - 2; L >= 0; L--) {\n      let O = te[L];\n      r.uniform2f(ge.uniforms.texelSize, a.texelSizeX, a.texelSizeY), r.uniform1i(ge.uniforms.uTexture, a.attach(0)), r.viewport(0, 0, O.width, O.height), A(O.fbo), a = O;\n    }\n    r.disable(r.BLEND), Ce.bind(), r.uniform2f(Ce.uniforms.texelSize, a.texelSizeX, a.texelSizeY), r.uniform1i(Ce.uniforms.uTexture, a.attach(0)), r.uniform1f(Ce.uniforms.intensity, p.BLOOM_INTENSITY), r.viewport(0, 0, s.width, s.height), A(s.fbo);\n  }\n  function F(o, s, a) {\n    r.disable(r.BLEND), He.bind(), r.uniform1i(He.uniforms.uTexture, o.attach(0)), r.viewport(0, 0, s.width, s.height), A(s.fbo), ke.bind(), r.uniform1f(ke.uniforms.weight, p.SUNRAYS_WEIGHT), r.uniform1i(ke.uniforms.uTexture, s.attach(0)), r.viewport(0, 0, a.width, a.height), A(a.fbo);\n  }\n  function X(o, s, a) {\n    oe.bind();\n    for (let f = 0; f < a; f++) r.uniform2f(oe.uniforms.texelSize, o.texelSizeX, 0), r.uniform1i(oe.uniforms.uTexture, o.attach(0)), A(s.fbo), r.uniform2f(oe.uniforms.texelSize, 0, o.texelSizeY), r.uniform1i(oe.uniforms.uTexture, s.attach(0)), A(o.fbo);\n  }\n  function Z(o) {\n    let s = o.deltaX * p.SPLAT_FORCE,\n      a = o.deltaY * p.SPLAT_FORCE;\n    We(o.texcoordX, o.texcoordY, s, a, o.color);\n  }\n  function je(o) {\n    for (let s = 0; s < o; s++) {\n      const a = tt();\n      a.r *= 10, a.g *= 10, a.b *= 10;\n      const f = Math.random(),\n        _ = Math.random(),\n        w = 1e3 * (Math.random() - 0.5),\n        y = 1e3 * (Math.random() - 0.5);\n      We(f, _, w, y, a);\n    }\n  }\n  function We(o, s, a, f, _) {\n    r.viewport(0, 0, x.width, x.height), Q.bind(), r.uniform1i(Q.uniforms.uTarget, x.read.attach(0)), r.uniform1f(Q.uniforms.aspectRatio, D.width / D.height), r.uniform2f(Q.uniforms.point, o, s), r.uniform3f(Q.uniforms.color, a, f, 0), r.uniform1f(Q.uniforms.radius, be(p.SPLAT_RADIUS / 100)), A(x.write.fbo), x.swap(), r.viewport(0, 0, E.width, E.height), r.uniform1i(Q.uniforms.uTarget, E.read.attach(0)), r.uniform3f(Q.uniforms.color, _.r, _.g, _.b), A(E.write.fbo), E.swap();\n  }\n  function be(o) {\n    let s = D.width / D.height;\n    return s > 1 && (o *= s), o;\n  }\n  D.addEventListener(\"mousedown\", o => {\n    let s = $(o.offsetX),\n      a = $(o.offsetY),\n      f = B.find(_ => _.id == -1);\n    f == null && (f = new he()), fe(f, -1, s, a);\n  }), setTimeout(() => {\n    D.addEventListener(\"mousemove\", o => {\n      let s = $(o.offsetX),\n        a = $(o.offsetY);\n      it(B[0], s, a);\n    });\n  }, 500), window.addEventListener(\"mouseup\", () => {\n    ot(B[0]);\n  }), D.addEventListener(\"touchstart\", o => {\n    o.preventDefault();\n    const s = o.targetTouches;\n    for (; s.length >= B.length;) B.push(new he());\n    for (let a = 0; a < s.length; a++) {\n      let f = $(s[a].pageX),\n        _ = $(s[a].pageY);\n      fe(B[a + 1], s[a].identifier, f, _);\n    }\n  }), D.addEventListener(\"touchmove\", o => {\n    o.preventDefault();\n    const s = o.targetTouches;\n    for (let a = 0; a < s.length; a++) {\n      let f = $(s[a].pageX),\n        _ = $(s[a].pageY);\n      it(B[a + 1], f, _);\n    }\n  }, !1), window.addEventListener(\"touchend\", o => {\n    const s = o.changedTouches;\n    for (let a = 0; a < s.length; a++) {\n      let f = B.find(_ => _.id == s[a].identifier);\n      ot(f);\n    }\n  }), window.addEventListener(\"keydown\", o => {\n    o.code === \"KeyP\" && (p.PAUSED = !p.PAUSED), o.key === \" \" && ye.push(parseInt(Math.random() * 20) + 5);\n  });\n  function fe(o, s, a, f) {\n    o.id = s, o.down = !0, o.moved = !1, o.texcoordX = a / D.width, o.texcoordY = 1 - f / D.height, o.prevTexcoordX = o.texcoordX, o.prevTexcoordY = o.texcoordY, o.deltaX = 0, o.deltaY = 0, o.color = tt();\n  }\n  function it(o, s, a) {\n    p.TRIGGER === \"click\" && (o.moved = o.down), o.prevTexcoordX = o.texcoordX, o.prevTexcoordY = o.texcoordY, o.texcoordX = s / D.width, o.texcoordY = 1 - a / D.height, o.deltaX = rt(o.texcoordX - o.prevTexcoordX), o.deltaY = nt(o.texcoordY - o.prevTexcoordY), p.TRIGGER === \"hover\" && (o.moved = Math.abs(o.deltaX) > 0 || Math.abs(o.deltaY) > 0);\n  }\n  function ot(o) {\n    o.down = !1;\n  }\n  function rt(o) {\n    let s = D.width / D.height;\n    return s < 1 && (o *= s), o;\n  }\n  function nt(o) {\n    let s = D.width / D.height;\n    return s > 1 && (o /= s), o;\n  }\n  function tt() {\n    let o = at(Math.random(), 1, 1);\n    return o.r *= 0.15, o.g *= 0.15, o.b *= 0.15, o;\n  }\n  function at(o, s, a) {\n    let f, _, w, y, L, O, ee, xe;\n    switch (y = Math.floor(o * 6), L = o * 6 - y, O = a * (1 - s), ee = a * (1 - L * s), xe = a * (1 - (1 - L) * s), y % 6) {\n      case 0:\n        f = a, _ = xe, w = O;\n        break;\n      case 1:\n        f = ee, _ = a, w = O;\n        break;\n      case 2:\n        f = O, _ = a, w = xe;\n        break;\n      case 3:\n        f = O, _ = ee, w = a;\n        break;\n      case 4:\n        f = xe, _ = O, w = a;\n        break;\n      case 5:\n        f = a, _ = O, w = ee;\n        break;\n    }\n    return {\n      r: f,\n      g: _,\n      b: w\n    };\n  }\n  function st(o) {\n    return {\n      r: o.r / 255,\n      g: o.g / 255,\n      b: o.b / 255\n    };\n  }\n  function lt(o, s, a) {\n    let f = a - s;\n    return f == 0 ? s : (o - s) % f + s;\n  }\n  function Ke(o) {\n    let s = r.drawingBufferWidth / r.drawingBufferHeight;\n    s < 1 && (s = 1 / s);\n    let a = Math.round(o),\n      f = Math.round(o * s);\n    return r.drawingBufferWidth > r.drawingBufferHeight ? {\n      width: f,\n      height: a\n    } : {\n      width: a,\n      height: f\n    };\n  }\n  function ut(o, s, a) {\n    return {\n      x: s / o.width,\n      y: a / o.height\n    };\n  }\n  function $(o) {\n    let s = window.devicePixelRatio || 1;\n    return Math.floor(o * s);\n  }\n  function ct(o) {\n    if (o.length == 0) return 0;\n    let s = 0;\n    for (let a = 0; a < o.length; a++) s = (s << 5) - s + o.charCodeAt(a), s |= 0;\n    return s;\n  }\n}\nexport { dt as default };","map":{"version":3,"names":["V","p","exports","module","define","amd","dat","globalThis","e","t","i","__state","conversionName","toString","n","Math","round","r","u","g","c","b","h","a","s","toFixed","v","S","hex","length","D","Object","defineProperty","get","space","E","recalculateRGB","set","he","recalculateHSV","B","d","isUndefined","match","J","isNull","parseFloat","ye","indexOf","te","pow","P","style","background","each","Re","cssText","Je","G","document","createElement","appendChild","__ul","insertBefore","onResize","Ue","l","unbind","window","__resizeHandler","saveToLocalStorageIfPossible","Oe","__preset_select","selectedIndex","innerHTML","value","Qe","__li","__gui","extend","options","arguments","nextElementSibling","remove","ae","object","property","before","factoryArgs","toArray","isArray","isObject","name","firstElementChild","listen","ue","le","min","__min","max","__max","step","__step","Array","prototype","slice","call","apply","addClass","domElement","isNumber","__listening","compose","se","bind","fakeEvent","__checkbox","stopPropagation","Ae","__button","removeClass","ve","updateDisplay","borderLeftColor","__color","setValue","getRoot","isModified","k","__rememberedObjects","__rememberedObjectIndecesToControllers","load","remembered","preset","I","initialValue","Error","color","concat","Ce","x","C","CLASS_CONTROLLER_ROW","et","getValue","__controllers","push","ie","location","href","N","Pe","display","useLocalStorage","U","__save_row","firstChild","T","re","getElementById","localStorage","getItem","setAttribute","metaKey","which","keyCode","ce","hide","JSON","stringify","getSaveObject","show","focus","select","save","prompt","saveAs","revert","qe","preventDefault","width","clientX","__closeButton","CLASS_DRAG","__resize_handle","marginLeft","height","cursor","position","Le","autoPlace","Ee","Ze","Ie","He","Me","forEach","me","BREAK","keys","defaults","defer","setTimeout","debounce","clearTimeout","isNaN","constructor","isString","isBoolean","isFunction","$e","litmus","conversions","THREE_CHAR_HEX","read","parseInt","write","SIX_CHAR_HEX","CSS_RGB","CSS_RGBA","HEX","RGB_ARRAY","RGBA_ARRAY","RGBA_OBJ","RGB_OBJ","HSVA_OBJ","HSV_OBJ","_e","Te","we","R","conversion","ze","pe","hsv_to_rgb","floor","rgb_to_hsv","NaN","rgb_to_hex","hex_with_component","component_from_hex","Symbol","iterator","M","F","TypeError","z","enumerable","configurable","writable","key","W","Function","getOwnPropertyDescriptor","getPrototypeOf","K","create","setPrototypeOf","__proto__","A","ReferenceError","COMPONENTS","__onChange","__onFinishChange","Fe","HTMLEvents","MouseEvents","KeyboardEvents","Se","makeSelectable","onselectstart","MozUserSelect","KhtmlUserSelect","unselectable","makeFullscreen","left","right","top","bottom","createEvent","y","clientY","initMouseEvent","bubbles","cancelable","clickCount","initKeyboardEvent","initKeyEvent","ctrlKey","altKey","shiftKey","charCode","initEvent","dispatchEvent","addEventListener","attachEvent","removeEventListener","detachEvent","className","split","join","replace","removeAttribute","splice","hasClass","RegExp","test","getWidth","getComputedStyle","getHeight","getOffset","offsetParent","offsetLeft","offsetTop","isActive","activeElement","type","__prev","checked","Ne","__select","Be","__input","blur","oe","__impliedStep","log","abs","LN10","__precision","m","__truncationSuspended","q","__background","getBoundingClientRect","touches","__foreground","fire","toOriginal","X","__saturation_field","Z","je","We","be","fe","__hue_field","__temp","__selector","__field_knob","__field_knob_border","__hue_knob","__input_textShadow","padding","backgroundColor","boxShadow","border","borderRadius","zIndex","borderRight","marginRight","outline","textAlign","fontWeight","textShadow","marginTop","toHexString","ge","rel","getElementsByTagName","inject","ne","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","ke","backgroundElement","opacity","WebkitTransition","transition","body","webkitTransform","layout","innerWidth","innerHeight","Q","head","Y","de","j","__folders","closeOnTop","DEFAULT_WIDTH","resizable","hideable","parent","scrollable","defineProperties","closed","CLASS_CLOSED","TEXT_OPEN","TEXT_CLOSED","setItem","CLASS_MAIN","parse","CLASS_CLOSE_BUTTON","CLASS_CLOSE_TOP","childNodes","CLASS_CLOSE_BOTTOM","createTextNode","CLASS_AUTO_PLACE_CONTAINER","CLASS_AUTO_PLACE","onResizeDebounced","toggleHide","CLASS_TOO_TALL","_keydownHandler","add","addColor","removeChild","destroy","removeFolder","addFolder","folders","parentElement","open","close","offsetHeight","remember","Ge","Color","math","interpret","Xe","Controller","BooleanController","OptionController","StringController","NumberController","NumberControllerBox","NumberControllerSlider","FunctionController","ColorController","H","dom","De","GUI","Ve","Ye","controllers","gui","default","dt","IMMEDIATE","TRIGGER","SIM_RESOLUTION","DYE_RESOLUTION","CAPTURE_RESOLUTION","DENSITY_DISSIPATION","VELOCITY_DISSIPATION","PRESSURE","PRESSURE_ITERATIONS","CURL","SPLAT_RADIUS","SPLAT_FORCE","SPLAT_COUNT","random","SHADING","COLORFUL","COLOR_UPDATE_SPEED","PAUSED","BACK_COLOR","TRANSPARENT","BLOOM","BLOOM_ITERATIONS","BLOOM_RESOLUTION","BLOOM_INTENSITY","BLOOM_THRESHOLD","BLOOM_SOFT_KNEE","SUNRAYS","SUNRAYS_RESOLUTION","SUNRAYS_WEIGHT","id","texcoordX","texcoordY","prevTexcoordX","prevTexcoordY","deltaX","deltaY","down","moved","gl","ext","supportLinearFiltering","o","alpha","depth","stencil","antialias","preserveDrawingBuffer","getContext","f","_","w","getExtension","clearColor","HALF_FLOAT","HALF_FLOAT_OES","L","O","ee","RGBA16F","RGBA","RG16F","RG","R16F","RED","formatRGBA","formatRG","formatR","halfFloatTexType","internalFormat","format","createTexture","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","texImage2D","createFramebuffer","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","COLOR_ATTACHMENT0","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","navigator","userAgent","vertexShader","fragmentShaderSource","programs","activeProgram","uniforms","setKeywords","ct","FRAGMENT_SHADER","useProgram","program","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","ACTIVE_UNIFORMS","getActiveUniform","getUniformLocation","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","VERTEX_SHADER","bindBuffer","ARRAY_BUFFER","createBuffer","bufferData","Float32Array","STATIC_DRAW","ELEMENT_ARRAY_BUFFER","Uint16Array","vertexAttribPointer","FLOAT","enableVertexAttribArray","drawElements","TRIANGLES","UNSIGNED_SHORT","Ke","LINEAR","activeTexture","TEXTURE0","viewport","clear","COLOR_BUFFER_BIT","texture","fbo","texelSizeX","texelSizeY","attach","xe","swap","uniform1i","uTexture","REPEAT","RGB","UNSIGNED_BYTE","Uint8Array","Image","onload","src","Date","now","$","clientWidth","clientHeight","lt","tt","pop","disable","BLEND","uniform2f","texelSize","uVelocity","uCurl","uniform1f","curl","uDivergence","uPressure","dyeTexelSize","uSource","dissipation","blendFunc","ONE","ONE_MINUS_SRC_ALPHA","enable","drawingBufferWidth","drawingBufferHeight","st","uniform4f","aspectRatio","uBloom","uDithering","ut","ditherScale","uSunrays","uniform3f","curve","threshold","intensity","weight","uTarget","point","radius","offsetX","offsetY","find","it","ot","targetTouches","pageX","pageY","identifier","changedTouches","code","rt","nt","at","devicePixelRatio","charCodeAt"],"sources":["/Users/apple/Downloads/VisShon/website/node_modules/webgl-fluid/src/dat.gui.min.js","/Users/apple/Downloads/VisShon/website/node_modules/webgl-fluid/src/index.js"],"sourcesContent":["/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?t(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],t):t(e.dat={})}(this,function(e){\"use strict\";function t(e,t){var n=e.__state.conversionName.toString(),o=Math.round(e.r),i=Math.round(e.g),r=Math.round(e.b),s=e.a,a=Math.round(e.h),l=e.s.toFixed(1),d=e.v.toFixed(1);if(t||\"THREE_CHAR_HEX\"===n||\"SIX_CHAR_HEX\"===n){for(var c=e.hex.toString(16);c.length<6;)c=\"0\"+c;return\"#\"+c}return\"CSS_RGB\"===n?\"rgb(\"+o+\",\"+i+\",\"+r+\")\":\"CSS_RGBA\"===n?\"rgba(\"+o+\",\"+i+\",\"+r+\",\"+s+\")\":\"HEX\"===n?\"0x\"+e.hex.toString(16):\"RGB_ARRAY\"===n?\"[\"+o+\",\"+i+\",\"+r+\"]\":\"RGBA_ARRAY\"===n?\"[\"+o+\",\"+i+\",\"+r+\",\"+s+\"]\":\"RGB_OBJ\"===n?\"{r:\"+o+\",g:\"+i+\",b:\"+r+\"}\":\"RGBA_OBJ\"===n?\"{r:\"+o+\",g:\"+i+\",b:\"+r+\",a:\"+s+\"}\":\"HSV_OBJ\"===n?\"{h:\"+a+\",s:\"+l+\",v:\"+d+\"}\":\"HSVA_OBJ\"===n?\"{h:\"+a+\",s:\"+l+\",v:\"+d+\",a:\"+s+\"}\":\"unknown format\"}function n(e,t,n){Object.defineProperty(e,t,{get:function(){return\"RGB\"===this.__state.space?this.__state[t]:(I.recalculateRGB(this,t,n),this.__state[t])},set:function(e){\"RGB\"!==this.__state.space&&(I.recalculateRGB(this,t,n),this.__state.space=\"RGB\"),this.__state[t]=e}})}function o(e,t){Object.defineProperty(e,t,{get:function(){return\"HSV\"===this.__state.space?this.__state[t]:(I.recalculateHSV(this),this.__state[t])},set:function(e){\"HSV\"!==this.__state.space&&(I.recalculateHSV(this),this.__state.space=\"HSV\"),this.__state[t]=e}})}function i(e){if(\"0\"===e||S.isUndefined(e))return 0;var t=e.match(U);return S.isNull(t)?0:parseFloat(t[1])}function r(e){var t=e.toString();return t.indexOf(\".\")>-1?t.length-t.indexOf(\".\")-1:0}function s(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}function a(e,t,n,o,i){return o+(e-t)/(n-t)*(i-o)}function l(e,t,n,o){e.style.background=\"\",S.each(ee,function(i){e.style.cssText+=\"background: \"+i+\"linear-gradient(\"+t+\", \"+n+\" 0%, \"+o+\" 100%); \"})}function d(e){e.style.background=\"\",e.style.cssText+=\"background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);\",e.style.cssText+=\"background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\",e.style.cssText+=\"background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\",e.style.cssText+=\"background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\",e.style.cssText+=\"background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\"}function c(e,t,n){var o=document.createElement(\"li\");return t&&o.appendChild(t),n?e.__ul.insertBefore(o,n):e.__ul.appendChild(o),e.onResize(),o}function u(e){X.unbind(window,\"resize\",e.__resizeHandler),e.saveToLocalStorageIfPossible&&X.unbind(window,\"unload\",e.saveToLocalStorageIfPossible)}function _(e,t){var n=e.__preset_select[e.__preset_select.selectedIndex];n.innerHTML=t?n.value+\"*\":n.value}function h(e,t,n){if(n.__li=t,n.__gui=e,S.extend(n,{options:function(t){if(arguments.length>1){var o=n.__li.nextElementSibling;return n.remove(),f(e,n.object,n.property,{before:o,factoryArgs:[S.toArray(arguments)]})}if(S.isArray(t)||S.isObject(t)){var i=n.__li.nextElementSibling;return n.remove(),f(e,n.object,n.property,{before:i,factoryArgs:[t]})}},name:function(e){return n.__li.firstElementChild.firstElementChild.innerHTML=e,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof q){var o=new Q(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});S.each([\"updateDisplay\",\"onChange\",\"onFinishChange\",\"step\"],function(e){var t=n[e],i=o[e];n[e]=o[e]=function(){var e=Array.prototype.slice.call(arguments);return i.apply(o,e),t.apply(n,e)}}),X.addClass(t,\"has-slider\"),n.domElement.insertBefore(o.domElement,n.domElement.firstElementChild)}else if(n instanceof Q){var i=function(t){if(S.isNumber(n.__min)&&S.isNumber(n.__max)){var o=n.__li.firstElementChild.firstElementChild.innerHTML,i=n.__gui.__listening.indexOf(n)>-1;n.remove();var r=f(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]});return r.name(o),i&&r.listen(),r}return t};n.min=S.compose(i,n.min),n.max=S.compose(i,n.max)}else n instanceof K?(X.bind(t,\"click\",function(){X.fakeEvent(n.__checkbox,\"click\")}),X.bind(n.__checkbox,\"click\",function(e){e.stopPropagation()})):n instanceof Z?(X.bind(t,\"click\",function(){X.fakeEvent(n.__button,\"click\")}),X.bind(t,\"mouseover\",function(){X.addClass(n.__button,\"hover\")}),X.bind(t,\"mouseout\",function(){X.removeClass(n.__button,\"hover\")})):n instanceof $&&(X.addClass(t,\"color\"),n.updateDisplay=S.compose(function(e){return t.style.borderLeftColor=n.__color.toString(),e},n.updateDisplay),n.updateDisplay());n.setValue=S.compose(function(t){return e.getRoot().__preset_select&&n.isModified()&&_(e.getRoot(),!0),t},n.setValue)}function p(e,t){var n=e.getRoot(),o=n.__rememberedObjects.indexOf(t.object);if(-1!==o){var i=n.__rememberedObjectIndecesToControllers[o];if(void 0===i&&(i={},n.__rememberedObjectIndecesToControllers[o]=i),i[t.property]=t,n.load&&n.load.remembered){var r=n.load.remembered,s=void 0;if(r[e.preset])s=r[e.preset];else{if(!r[se])return;s=r[se]}if(s[o]&&void 0!==s[o][t.property]){var a=s[o][t.property];t.initialValue=a,t.setValue(a)}}}}function f(e,t,n,o){if(void 0===t[n])throw new Error('Object \"'+t+'\" has no property \"'+n+'\"');var i=void 0;if(o.color)i=new $(t,n);else{var r=[t,n].concat(o.factoryArgs);i=ne.apply(e,r)}o.before instanceof z&&(o.before=o.before.__li),p(e,i),X.addClass(i.domElement,\"c\");var s=document.createElement(\"span\");X.addClass(s,\"property-name\"),s.innerHTML=i.property;var a=document.createElement(\"div\");a.appendChild(s),a.appendChild(i.domElement);var l=c(e,a,o.before);return X.addClass(l,he.CLASS_CONTROLLER_ROW),i instanceof $?X.addClass(l,\"color\"):X.addClass(l,H(i.getValue())),h(e,l,i),e.__controllers.push(i),i}function m(e,t){return document.location.href+\".\"+t}function g(e,t,n){var o=document.createElement(\"option\");o.innerHTML=t,o.value=t,e.__preset_select.appendChild(o),n&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function b(e,t){t.style.display=e.useLocalStorage?\"block\":\"none\"}function v(e){var t=e.__save_row=document.createElement(\"li\");X.addClass(e.domElement,\"has-save\"),e.__ul.insertBefore(t,e.__ul.firstChild),X.addClass(t,\"save-row\");var n=document.createElement(\"span\");n.innerHTML=\"&nbsp;\",X.addClass(n,\"button gears\");var o=document.createElement(\"span\");o.innerHTML=\"Save\",X.addClass(o,\"button\"),X.addClass(o,\"save\");var i=document.createElement(\"span\");i.innerHTML=\"New\",X.addClass(i,\"button\"),X.addClass(i,\"save-as\");var r=document.createElement(\"span\");r.innerHTML=\"Revert\",X.addClass(r,\"button\"),X.addClass(r,\"revert\");var s=e.__preset_select=document.createElement(\"select\");if(e.load&&e.load.remembered?S.each(e.load.remembered,function(t,n){g(e,n,n===e.preset)}):g(e,se,!1),X.bind(s,\"change\",function(){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].innerHTML=e.__preset_select[t].value;e.preset=this.value}),t.appendChild(s),t.appendChild(n),t.appendChild(o),t.appendChild(i),t.appendChild(r),ae){var a=document.getElementById(\"dg-local-explain\"),l=document.getElementById(\"dg-local-storage\");document.getElementById(\"dg-save-locally\").style.display=\"block\",\"true\"===localStorage.getItem(m(e,\"isLocal\"))&&l.setAttribute(\"checked\",\"checked\"),b(e,a),X.bind(l,\"change\",function(){e.useLocalStorage=!e.useLocalStorage,b(e,a)})}var d=document.getElementById(\"dg-new-constructor\");X.bind(d,\"keydown\",function(e){!e.metaKey||67!==e.which&&67!==e.keyCode||le.hide()}),X.bind(n,\"click\",function(){d.innerHTML=JSON.stringify(e.getSaveObject(),void 0,2),le.show(),d.focus(),d.select()}),X.bind(o,\"click\",function(){e.save()}),X.bind(i,\"click\",function(){var t=prompt(\"Enter a new preset name.\");t&&e.saveAs(t)}),X.bind(r,\"click\",function(){e.revert()})}function y(e){function t(t){return t.preventDefault(),e.width+=i-t.clientX,e.onResize(),i=t.clientX,!1}function n(){X.removeClass(e.__closeButton,he.CLASS_DRAG),X.unbind(window,\"mousemove\",t),X.unbind(window,\"mouseup\",n)}function o(o){return o.preventDefault(),i=o.clientX,X.addClass(e.__closeButton,he.CLASS_DRAG),X.bind(window,\"mousemove\",t),X.bind(window,\"mouseup\",n),!1}var i=void 0;e.__resize_handle=document.createElement(\"div\"),S.extend(e.__resize_handle.style,{width:\"6px\",marginLeft:\"-3px\",height:\"200px\",cursor:\"ew-resize\",position:\"absolute\"}),X.bind(e.__resize_handle,\"mousedown\",o),X.bind(e.__closeButton,\"mousedown\",o),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}function w(e,t){e.domElement.style.width=t+\"px\",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+\"px\"),e.__closeButton&&(e.__closeButton.style.width=t+\"px\")}function x(e,t){var n={};return S.each(e.__rememberedObjects,function(o,i){var r={},s=e.__rememberedObjectIndecesToControllers[i];S.each(s,function(e,n){r[n]=t?e.initialValue:e.getValue()}),n[i]=r}),n}function E(e){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].value===e.preset&&(e.__preset_select.selectedIndex=t)}function C(e){0!==e.length&&oe.call(window,function(){C(e)}),S.each(e,function(e){e.updateDisplay()})}var A=Array.prototype.forEach,k=Array.prototype.slice,S={BREAK:{},extend:function(e){return this.each(k.call(arguments,1),function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(n){this.isUndefined(t[n])||(e[n]=t[n])}.bind(this))},this),e},defaults:function(e){return this.each(k.call(arguments,1),function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(n){this.isUndefined(e[n])&&(e[n]=t[n])}.bind(this))},this),e},compose:function(){var e=k.call(arguments);return function(){for(var t=k.call(arguments),n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},each:function(e,t,n){if(e)if(A&&e.forEach&&e.forEach===A)e.forEach(t,n);else if(e.length===e.length+0){var o=void 0,i=void 0;for(o=0,i=e.length;o<i;o++)if(o in e&&t.call(n,e[o],o)===this.BREAK)return}else for(var r in e)if(t.call(n,e[r],r)===this.BREAK)return},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var o=void 0;return function(){var i=this,r=arguments,s=n||!o;clearTimeout(o),o=setTimeout(function(){o=null,n||e.apply(i,r)},t),s&&e.apply(i,r)}},toArray:function(e){return e.toArray?e.toArray():k.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return isNaN(e)}),isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+\"\"},isBoolean:function(e){return!1===e||!0===e},isFunction:function(e){return\"[object Function]\"===Object.prototype.toString.call(e)}},O=[{litmus:S.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==t&&{space:\"HEX\",hex:parseInt(\"0x\"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString(),0)}},write:t},SIX_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9]{6})$/i);return null!==t&&{space:\"HEX\",hex:parseInt(\"0x\"+t[1].toString(),0)}},write:t},CSS_RGB:{read:function(e){var t=e.match(/^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);return null!==t&&{space:\"RGB\",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:t},CSS_RGBA:{read:function(e){var t=e.match(/^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);return null!==t&&{space:\"RGB\",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:t}}},{litmus:S.isNumber,conversions:{HEX:{read:function(e){return{space:\"HEX\",hex:e,conversionName:\"HEX\"}},write:function(e){return e.hex}}}},{litmus:S.isArray,conversions:{RGB_ARRAY:{read:function(e){return 3===e.length&&{space:\"RGB\",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4===e.length&&{space:\"RGB\",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:S.isObject,conversions:{RGBA_OBJ:{read:function(e){return!!(S.isNumber(e.r)&&S.isNumber(e.g)&&S.isNumber(e.b)&&S.isNumber(e.a))&&{space:\"RGB\",r:e.r,g:e.g,b:e.b,a:e.a}},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return!!(S.isNumber(e.r)&&S.isNumber(e.g)&&S.isNumber(e.b))&&{space:\"RGB\",r:e.r,g:e.g,b:e.b}},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return!!(S.isNumber(e.h)&&S.isNumber(e.s)&&S.isNumber(e.v)&&S.isNumber(e.a))&&{space:\"HSV\",h:e.h,s:e.s,v:e.v,a:e.a}},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return!!(S.isNumber(e.h)&&S.isNumber(e.s)&&S.isNumber(e.v))&&{space:\"HSV\",h:e.h,s:e.s,v:e.v}},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}],T=void 0,L=void 0,R=function(){L=!1;var e=arguments.length>1?S.toArray(arguments):arguments[0];return S.each(O,function(t){if(t.litmus(e))return S.each(t.conversions,function(t,n){if(T=t.read(e),!1===L&&!1!==T)return L=T,T.conversionName=n,T.conversion=t,S.BREAK}),S.BREAK}),L},B=void 0,N={hsv_to_rgb:function(e,t,n){var o=Math.floor(e/60)%6,i=e/60-Math.floor(e/60),r=n*(1-t),s=n*(1-i*t),a=n*(1-(1-i)*t),l=[[n,a,r],[s,n,r],[r,n,a],[r,s,n],[a,r,n],[n,r,s]][o];return{r:255*l[0],g:255*l[1],b:255*l[2]}},rgb_to_hsv:function(e,t,n){var o=Math.min(e,t,n),i=Math.max(e,t,n),r=i-o,s=void 0,a=void 0;return 0===i?{h:NaN,s:0,v:0}:(a=r/i,s=e===i?(t-n)/r:t===i?2+(n-e)/r:4+(e-t)/r,(s/=6)<0&&(s+=1),{h:360*s,s:a,v:i/255})},rgb_to_hex:function(e,t,n){var o=this.hex_with_component(0,2,e);return o=this.hex_with_component(o,1,t),o=this.hex_with_component(o,0,n)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(e,t,n){return n<<(B=8*t)|e&~(255<<B)}},H=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},F=function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")},P=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),j=function e(t,n,o){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,o)}if(\"value\"in i)return i.value;var s=i.get;if(void 0!==s)return s.call(o)},D=function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},V=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t},I=function(){function e(){if(F(this,e),this.__state=R.apply(this,arguments),!1===this.__state)throw new Error(\"Failed to interpret color arguments\");this.__state.a=this.__state.a||1}return P(e,[{key:\"toString\",value:function(){return t(this)}},{key:\"toHexString\",value:function(){return t(this,!0)}},{key:\"toOriginal\",value:function(){return this.__state.conversion.write(this)}}]),e}();I.recalculateRGB=function(e,t,n){if(\"HEX\"===e.__state.space)e.__state[t]=N.component_from_hex(e.__state.hex,n);else{if(\"HSV\"!==e.__state.space)throw new Error(\"Corrupted color state\");S.extend(e.__state,N.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}},I.recalculateHSV=function(e){var t=N.rgb_to_hsv(e.r,e.g,e.b);S.extend(e.__state,{s:t.s,v:t.v}),S.isNaN(t.h)?S.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=t.h},I.COMPONENTS=[\"r\",\"g\",\"b\",\"h\",\"s\",\"v\",\"hex\",\"a\"],n(I.prototype,\"r\",2),n(I.prototype,\"g\",1),n(I.prototype,\"b\",0),o(I.prototype,\"h\"),o(I.prototype,\"s\"),o(I.prototype,\"v\"),Object.defineProperty(I.prototype,\"a\",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(I.prototype,\"hex\",{get:function(){return\"HEX\"!==!this.__state.space&&(this.__state.hex=N.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(e){this.__state.space=\"HEX\",this.__state.hex=e}});var z=function(){function e(t,n){F(this,e),this.initialValue=t[n],this.domElement=document.createElement(\"div\"),this.object=t,this.property=n,this.__onChange=void 0,this.__onFinishChange=void 0}return P(e,[{key:\"onChange\",value:function(e){return this.__onChange=e,this}},{key:\"onFinishChange\",value:function(e){return this.__onFinishChange=e,this}},{key:\"setValue\",value:function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this}},{key:\"getValue\",value:function(){return this.object[this.property]}},{key:\"updateDisplay\",value:function(){return this}},{key:\"isModified\",value:function(){return this.initialValue!==this.getValue()}}]),e}(),M={HTMLEvents:[\"change\"],MouseEvents:[\"click\",\"mousemove\",\"mousedown\",\"mouseup\",\"mouseover\"],KeyboardEvents:[\"keydown\"]},G={};S.each(M,function(e,t){S.each(e,function(e){G[e]=t})});var U=/(\\d+(\\.\\d+)?)px/,X={makeSelectable:function(e,t){void 0!==e&&void 0!==e.style&&(e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?\"auto\":\"none\",e.style.KhtmlUserSelect=t?\"auto\":\"none\",e.unselectable=t?\"on\":\"off\")},makeFullscreen:function(e,t,n){var o=n,i=t;S.isUndefined(i)&&(i=!0),S.isUndefined(o)&&(o=!0),e.style.position=\"absolute\",i&&(e.style.left=0,e.style.right=0),o&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,t,n,o){var i=n||{},r=G[t];if(!r)throw new Error(\"Event type \"+t+\" not supported.\");var s=document.createEvent(r);switch(r){case\"MouseEvents\":var a=i.x||i.clientX||0,l=i.y||i.clientY||0;s.initMouseEvent(t,i.bubbles||!1,i.cancelable||!0,window,i.clickCount||1,0,0,a,l,!1,!1,!1,!1,0,null);break;case\"KeyboardEvents\":var d=s.initKeyboardEvent||s.initKeyEvent;S.defaults(i,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),d(t,i.bubbles||!1,i.cancelable,window,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.keyCode,i.charCode);break;default:s.initEvent(t,i.bubbles||!1,i.cancelable||!0)}S.defaults(s,o),e.dispatchEvent(s)},bind:function(e,t,n,o){var i=o||!1;return e.addEventListener?e.addEventListener(t,n,i):e.attachEvent&&e.attachEvent(\"on\"+t,n),X},unbind:function(e,t,n,o){var i=o||!1;return e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent&&e.detachEvent(\"on\"+t,n),X},addClass:function(e,t){if(void 0===e.className)e.className=t;else if(e.className!==t){var n=e.className.split(/ +/);-1===n.indexOf(t)&&(n.push(t),e.className=n.join(\" \").replace(/^\\s+/,\"\").replace(/\\s+$/,\"\"))}return X},removeClass:function(e,t){if(t)if(e.className===t)e.removeAttribute(\"class\");else{var n=e.className.split(/ +/),o=n.indexOf(t);-1!==o&&(n.splice(o,1),e.className=n.join(\" \"))}else e.className=void 0;return X},hasClass:function(e,t){return new RegExp(\"(?:^|\\\\s+)\"+t+\"(?:\\\\s+|$)\").test(e.className)||!1},getWidth:function(e){var t=getComputedStyle(e);return i(t[\"border-left-width\"])+i(t[\"border-right-width\"])+i(t[\"padding-left\"])+i(t[\"padding-right\"])+i(t.width)},getHeight:function(e){var t=getComputedStyle(e);return i(t[\"border-top-width\"])+i(t[\"border-bottom-width\"])+i(t[\"padding-top\"])+i(t[\"padding-bottom\"])+i(t.height)},getOffset:function(e){var t=e,n={left:0,top:0};if(t.offsetParent)do{n.left+=t.offsetLeft,n.top+=t.offsetTop,t=t.offsetParent}while(t);return n},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}},K=function(e){function t(e,n){F(this,t);var o=V(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),i=o;return o.__prev=o.getValue(),o.__checkbox=document.createElement(\"input\"),o.__checkbox.setAttribute(\"type\",\"checkbox\"),X.bind(o.__checkbox,\"change\",function(){i.setValue(!i.__prev)},!1),o.domElement.appendChild(o.__checkbox),o.updateDisplay(),o}return D(t,z),P(t,[{key:\"setValue\",value:function(e){var n=j(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"setValue\",this).call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),n}},{key:\"updateDisplay\",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute(\"checked\",\"checked\"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),j(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"updateDisplay\",this).call(this)}}]),t}(),Y=function(e){function t(e,n,o){F(this,t);var i=V(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),r=o,s=i;if(i.__select=document.createElement(\"select\"),S.isArray(r)){var a={};S.each(r,function(e){a[e]=e}),r=a}return S.each(r,function(e,t){var n=document.createElement(\"option\");n.innerHTML=t,n.setAttribute(\"value\",e),s.__select.appendChild(n)}),i.updateDisplay(),X.bind(i.__select,\"change\",function(){var e=this.options[this.selectedIndex].value;s.setValue(e)}),i.domElement.appendChild(i.__select),i}return D(t,z),P(t,[{key:\"setValue\",value:function(e){var n=j(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"setValue\",this).call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),n}},{key:\"updateDisplay\",value:function(){return X.isActive(this.__select)?this:(this.__select.value=this.getValue(),j(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"updateDisplay\",this).call(this))}}]),t}(),J=function(e){function t(e,n){function o(){r.setValue(r.__input.value)}F(this,t);var i=V(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),r=i;return i.__input=document.createElement(\"input\"),i.__input.setAttribute(\"type\",\"text\"),X.bind(i.__input,\"keyup\",o),X.bind(i.__input,\"change\",o),X.bind(i.__input,\"blur\",function(){r.__onFinishChange&&r.__onFinishChange.call(r,r.getValue())}),X.bind(i.__input,\"keydown\",function(e){13===e.keyCode&&this.blur()}),i.updateDisplay(),i.domElement.appendChild(i.__input),i}return D(t,z),P(t,[{key:\"updateDisplay\",value:function(){return X.isActive(this.__input)||(this.__input.value=this.getValue()),j(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"updateDisplay\",this).call(this)}}]),t}(),W=function(e){function t(e,n,o){F(this,t);var i=V(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),s=o||{};return i.__min=s.min,i.__max=s.max,i.__step=s.step,S.isUndefined(i.__step)?0===i.initialValue?i.__impliedStep=1:i.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(i.initialValue))/Math.LN10))/10:i.__impliedStep=i.__step,i.__precision=r(i.__impliedStep),i}return D(t,z),P(t,[{key:\"setValue\",value:function(e){var n=e;return void 0!==this.__min&&n<this.__min?n=this.__min:void 0!==this.__max&&n>this.__max&&(n=this.__max),void 0!==this.__step&&n%this.__step!=0&&(n=Math.round(n/this.__step)*this.__step),j(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"setValue\",this).call(this,n)}},{key:\"min\",value:function(e){return this.__min=e,this}},{key:\"max\",value:function(e){return this.__max=e,this}},{key:\"step\",value:function(e){return this.__step=e,this.__impliedStep=e,this.__precision=r(e),this}}]),t}(),Q=function(e){function t(e,n,o){function i(){l.__onFinishChange&&l.__onFinishChange.call(l,l.getValue())}function r(e){var t=d-e.clientY;l.setValue(l.getValue()+t*l.__impliedStep),d=e.clientY}function s(){X.unbind(window,\"mousemove\",r),X.unbind(window,\"mouseup\",s),i()}F(this,t);var a=V(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o));a.__truncationSuspended=!1;var l=a,d=void 0;return a.__input=document.createElement(\"input\"),a.__input.setAttribute(\"type\",\"text\"),X.bind(a.__input,\"change\",function(){var e=parseFloat(l.__input.value);S.isNaN(e)||l.setValue(e)}),X.bind(a.__input,\"blur\",function(){i()}),X.bind(a.__input,\"mousedown\",function(e){X.bind(window,\"mousemove\",r),X.bind(window,\"mouseup\",s),d=e.clientY}),X.bind(a.__input,\"keydown\",function(e){13===e.keyCode&&(l.__truncationSuspended=!0,this.blur(),l.__truncationSuspended=!1,i())}),a.updateDisplay(),a.domElement.appendChild(a.__input),a}return D(t,W),P(t,[{key:\"updateDisplay\",value:function(){return this.__input.value=this.__truncationSuspended?this.getValue():s(this.getValue(),this.__precision),j(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"updateDisplay\",this).call(this)}}]),t}(),q=function(e){function t(e,n,o,i,r){function s(e){e.preventDefault();var t=_.__background.getBoundingClientRect();return _.setValue(a(e.clientX,t.left,t.right,_.__min,_.__max)),!1}function l(){X.unbind(window,\"mousemove\",s),X.unbind(window,\"mouseup\",l),_.__onFinishChange&&_.__onFinishChange.call(_,_.getValue())}function d(e){var t=e.touches[0].clientX,n=_.__background.getBoundingClientRect();_.setValue(a(t,n.left,n.right,_.__min,_.__max))}function c(){X.unbind(window,\"touchmove\",d),X.unbind(window,\"touchend\",c),_.__onFinishChange&&_.__onFinishChange.call(_,_.getValue())}F(this,t);var u=V(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,{min:o,max:i,step:r})),_=u;return u.__background=document.createElement(\"div\"),u.__foreground=document.createElement(\"div\"),X.bind(u.__background,\"mousedown\",function(e){document.activeElement.blur(),X.bind(window,\"mousemove\",s),X.bind(window,\"mouseup\",l),s(e)}),X.bind(u.__background,\"touchstart\",function(e){1===e.touches.length&&(X.bind(window,\"touchmove\",d),X.bind(window,\"touchend\",c),d(e))}),X.addClass(u.__background,\"slider\"),X.addClass(u.__foreground,\"slider-fg\"),u.updateDisplay(),u.__background.appendChild(u.__foreground),u.domElement.appendChild(u.__background),u}return D(t,W),P(t,[{key:\"updateDisplay\",value:function(){var e=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*e+\"%\",j(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"updateDisplay\",this).call(this)}}]),t}(),Z=function(e){function t(e,n,o){F(this,t);var i=V(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),r=i;return i.__button=document.createElement(\"div\"),i.__button.innerHTML=void 0===o?\"Fire\":o,X.bind(i.__button,\"click\",function(e){return e.preventDefault(),r.fire(),!1}),X.addClass(i.__button,\"button\"),i.domElement.appendChild(i.__button),i}return D(t,z),P(t,[{key:\"fire\",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),t}(),$=function(e){function t(e,n){function o(e){u(e),X.bind(window,\"mousemove\",u),X.bind(window,\"touchmove\",u),X.bind(window,\"mouseup\",r),X.bind(window,\"touchend\",r)}function i(e){_(e),X.bind(window,\"mousemove\",_),X.bind(window,\"touchmove\",_),X.bind(window,\"mouseup\",s),X.bind(window,\"touchend\",s)}function r(){X.unbind(window,\"mousemove\",u),X.unbind(window,\"touchmove\",u),X.unbind(window,\"mouseup\",r),X.unbind(window,\"touchend\",r),c()}function s(){X.unbind(window,\"mousemove\",_),X.unbind(window,\"touchmove\",_),X.unbind(window,\"mouseup\",s),X.unbind(window,\"touchend\",s),c()}function a(){var e=R(this.value);!1!==e?(p.__color.__state=e,p.setValue(p.__color.toOriginal())):this.value=p.__color.toString()}function c(){p.__onFinishChange&&p.__onFinishChange.call(p,p.__color.toOriginal())}function u(e){-1===e.type.indexOf(\"touch\")&&e.preventDefault();var t=p.__saturation_field.getBoundingClientRect(),n=e.touches&&e.touches[0]||e,o=n.clientX,i=n.clientY,r=(o-t.left)/(t.right-t.left),s=1-(i-t.top)/(t.bottom-t.top);return s>1?s=1:s<0&&(s=0),r>1?r=1:r<0&&(r=0),p.__color.v=s,p.__color.s=r,p.setValue(p.__color.toOriginal()),!1}function _(e){-1===e.type.indexOf(\"touch\")&&e.preventDefault();var t=p.__hue_field.getBoundingClientRect(),n=1-((e.touches&&e.touches[0]||e).clientY-t.top)/(t.bottom-t.top);return n>1?n=1:n<0&&(n=0),p.__color.h=360*n,p.setValue(p.__color.toOriginal()),!1}F(this,t);var h=V(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));h.__color=new I(h.getValue()),h.__temp=new I(0);var p=h;h.domElement=document.createElement(\"div\"),X.makeSelectable(h.domElement,!1),h.__selector=document.createElement(\"div\"),h.__selector.className=\"selector\",h.__saturation_field=document.createElement(\"div\"),h.__saturation_field.className=\"saturation-field\",h.__field_knob=document.createElement(\"div\"),h.__field_knob.className=\"field-knob\",h.__field_knob_border=\"2px solid \",h.__hue_knob=document.createElement(\"div\"),h.__hue_knob.className=\"hue-knob\",h.__hue_field=document.createElement(\"div\"),h.__hue_field.className=\"hue-field\",h.__input=document.createElement(\"input\"),h.__input.type=\"text\",h.__input_textShadow=\"0 1px 1px \",X.bind(h.__input,\"keydown\",function(e){13===e.keyCode&&a.call(this)}),X.bind(h.__input,\"blur\",a),X.bind(h.__selector,\"mousedown\",function(){X.addClass(this,\"drag\").bind(window,\"mouseup\",function(){X.removeClass(p.__selector,\"drag\")})}),X.bind(h.__selector,\"touchstart\",function(){X.addClass(this,\"drag\").bind(window,\"touchend\",function(){X.removeClass(p.__selector,\"drag\")})});var f=document.createElement(\"div\");return S.extend(h.__selector.style,{width:\"122px\",height:\"102px\",padding:\"3px\",backgroundColor:\"#222\",boxShadow:\"0px 1px 3px rgba(0,0,0,0.3)\"}),S.extend(h.__field_knob.style,{position:\"absolute\",width:\"12px\",height:\"12px\",border:h.__field_knob_border+(h.__color.v<.5?\"#fff\":\"#000\"),boxShadow:\"0px 1px 3px rgba(0,0,0,0.5)\",borderRadius:\"12px\",zIndex:1}),S.extend(h.__hue_knob.style,{position:\"absolute\",width:\"15px\",height:\"2px\",borderRight:\"4px solid #fff\",zIndex:1}),S.extend(h.__saturation_field.style,{width:\"100px\",height:\"100px\",border:\"1px solid #555\",marginRight:\"3px\",display:\"inline-block\",cursor:\"pointer\"}),S.extend(f.style,{width:\"100%\",height:\"100%\",background:\"none\"}),l(f,\"top\",\"rgba(0,0,0,0)\",\"#000\"),S.extend(h.__hue_field.style,{width:\"15px\",height:\"100px\",border:\"1px solid #555\",cursor:\"ns-resize\",position:\"absolute\",top:\"3px\",right:\"3px\"}),d(h.__hue_field),S.extend(h.__input.style,{outline:\"none\",textAlign:\"center\",color:\"#fff\",border:0,fontWeight:\"bold\",textShadow:h.__input_textShadow+\"rgba(0,0,0,0.7)\"}),X.bind(h.__saturation_field,\"mousedown\",o),X.bind(h.__saturation_field,\"touchstart\",o),X.bind(h.__field_knob,\"mousedown\",o),X.bind(h.__field_knob,\"touchstart\",o),X.bind(h.__hue_field,\"mousedown\",i),X.bind(h.__hue_field,\"touchstart\",i),h.__saturation_field.appendChild(f),h.__selector.appendChild(h.__field_knob),h.__selector.appendChild(h.__saturation_field),h.__selector.appendChild(h.__hue_field),h.__hue_field.appendChild(h.__hue_knob),h.domElement.appendChild(h.__input),h.domElement.appendChild(h.__selector),h.updateDisplay(),h}return D(t,z),P(t,[{key:\"updateDisplay\",value:function(){var e=R(this.getValue());if(!1!==e){var t=!1;S.each(I.COMPONENTS,function(n){if(!S.isUndefined(e[n])&&!S.isUndefined(this.__color.__state[n])&&e[n]!==this.__color.__state[n])return t=!0,{}},this),t&&S.extend(this.__color.__state,e)}S.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var n=this.__color.v<.5||this.__color.s>.5?255:0,o=255-n;S.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+\"px\",marginTop:100*(1-this.__color.v)-7+\"px\",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+\"rgb(\"+n+\",\"+n+\",\"+n+\")\"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+\"px\",this.__temp.s=1,this.__temp.v=1,l(this.__saturation_field,\"left\",\"#fff\",this.__temp.toHexString()),this.__input.value=this.__color.toString(),S.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:\"rgb(\"+n+\",\"+n+\",\"+n+\")\",textShadow:this.__input_textShadow+\"rgba(\"+o+\",\"+o+\",\"+o+\",.7)\"})}}]),t}(),ee=[\"-moz-\",\"-o-\",\"-webkit-\",\"-ms-\",\"\"],te={load:function(e,t){var n=t||document,o=n.createElement(\"link\");o.type=\"text/css\",o.rel=\"stylesheet\",o.href=e,n.getElementsByTagName(\"head\")[0].appendChild(o)},inject:function(e,t){var n=t||document,o=document.createElement(\"style\");o.type=\"text/css\",o.innerHTML=e;var i=n.getElementsByTagName(\"head\")[0];try{i.appendChild(o)}catch(e){}}},ne=function(e,t){var n=e[t];return S.isArray(arguments[2])||S.isObject(arguments[2])?new Y(e,t,arguments[2]):S.isNumber(n)?S.isNumber(arguments[2])&&S.isNumber(arguments[3])?S.isNumber(arguments[4])?new q(e,t,arguments[2],arguments[3],arguments[4]):new q(e,t,arguments[2],arguments[3]):S.isNumber(arguments[4])?new Q(e,t,{min:arguments[2],max:arguments[3],step:arguments[4]}):new Q(e,t,{min:arguments[2],max:arguments[3]}):S.isString(n)?new J(e,t):S.isFunction(n)?new Z(e,t,\"\"):S.isBoolean(n)?new K(e,t):null},oe=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},ie=function(){function e(){F(this,e),this.backgroundElement=document.createElement(\"div\"),S.extend(this.backgroundElement.style,{backgroundColor:\"rgba(0,0,0,0.8)\",top:0,left:0,display:\"none\",zIndex:\"1000\",opacity:0,WebkitTransition:\"opacity 0.2s linear\",transition:\"opacity 0.2s linear\"}),X.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position=\"fixed\",this.domElement=document.createElement(\"div\"),S.extend(this.domElement.style,{position:\"fixed\",display:\"none\",zIndex:\"1001\",opacity:0,WebkitTransition:\"-webkit-transform 0.2s ease-out, opacity 0.2s linear\",transition:\"transform 0.2s ease-out, opacity 0.2s linear\"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var t=this;X.bind(this.backgroundElement,\"click\",function(){t.hide()})}return P(e,[{key:\"show\",value:function(){var e=this;this.backgroundElement.style.display=\"block\",this.domElement.style.display=\"block\",this.domElement.style.opacity=0,this.domElement.style.webkitTransform=\"scale(1.1)\",this.layout(),S.defer(function(){e.backgroundElement.style.opacity=1,e.domElement.style.opacity=1,e.domElement.style.webkitTransform=\"scale(1)\"})}},{key:\"hide\",value:function(){var e=this,t=function t(){e.domElement.style.display=\"none\",e.backgroundElement.style.display=\"none\",X.unbind(e.domElement,\"webkitTransitionEnd\",t),X.unbind(e.domElement,\"transitionend\",t),X.unbind(e.domElement,\"oTransitionEnd\",t)};X.bind(this.domElement,\"webkitTransitionEnd\",t),X.bind(this.domElement,\"transitionend\",t),X.bind(this.domElement,\"oTransitionEnd\",t),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform=\"scale(1.1)\"}},{key:\"layout\",value:function(){this.domElement.style.left=window.innerWidth/2-X.getWidth(this.domElement)/2+\"px\",this.domElement.style.top=window.innerHeight/2-X.getHeight(this.domElement)/2+\"px\"}}]),e}(),re=function(e){if(e&&\"undefined\"!=typeof window){var t=document.createElement(\"style\");return t.setAttribute(\"type\",\"text/css\"),t.innerHTML=e,document.head.appendChild(t),e}}(\".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\\n\");te.inject(re);var se=\"Default\",ae=function(){try{return!!window.localStorage}catch(e){return!1}}(),le=void 0,de=!0,ce=void 0,ue=!1,_e=[],he=function e(t){var n=this,o=t||{};this.domElement=document.createElement(\"div\"),this.__ul=document.createElement(\"ul\"),this.domElement.appendChild(this.__ul),X.addClass(this.domElement,\"dg\"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],o=S.defaults(o,{closeOnTop:!1,autoPlace:!0,width:e.DEFAULT_WIDTH}),o=S.defaults(o,{resizable:o.autoPlace,hideable:o.autoPlace}),S.isUndefined(o.load)?o.load={preset:se}:o.preset&&(o.load.preset=o.preset),S.isUndefined(o.parent)&&o.hideable&&_e.push(this),o.resizable=S.isUndefined(o.parent)&&o.resizable,o.autoPlace&&S.isUndefined(o.scrollable)&&(o.scrollable=!0);var i=ae&&\"true\"===localStorage.getItem(m(this,\"isLocal\")),r=void 0,s=void 0;if(Object.defineProperties(this,{parent:{get:function(){return o.parent}},scrollable:{get:function(){return o.scrollable}},autoPlace:{get:function(){return o.autoPlace}},closeOnTop:{get:function(){return o.closeOnTop}},preset:{get:function(){return n.parent?n.getRoot().preset:o.load.preset},set:function(e){n.parent?n.getRoot().preset=e:o.load.preset=e,E(this),n.revert()}},width:{get:function(){return o.width},set:function(e){o.width=e,w(n,e)}},name:{get:function(){return o.name},set:function(e){o.name=e,s&&(s.innerHTML=o.name)}},closed:{get:function(){return o.closed},set:function(t){o.closed=t,o.closed?X.addClass(n.__ul,e.CLASS_CLOSED):X.removeClass(n.__ul,e.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=t?e.TEXT_OPEN:e.TEXT_CLOSED)}},load:{get:function(){return o.load}},useLocalStorage:{get:function(){return i},set:function(e){ae&&(i=e,e?X.bind(window,\"unload\",r):X.unbind(window,\"unload\",r),localStorage.setItem(m(n,\"isLocal\"),e))}}}),S.isUndefined(o.parent)){if(o.closed=!1,X.addClass(this.domElement,e.CLASS_MAIN),X.makeSelectable(this.domElement,!1),ae&&i){n.useLocalStorage=!0;var a=localStorage.getItem(m(this,\"gui\"));a&&(o.load=JSON.parse(a))}this.__closeButton=document.createElement(\"div\"),this.__closeButton.innerHTML=e.TEXT_CLOSED,X.addClass(this.__closeButton,e.CLASS_CLOSE_BUTTON),o.closeOnTop?(X.addClass(this.__closeButton,e.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(X.addClass(this.__closeButton,e.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),X.bind(this.__closeButton,\"click\",function(){n.closed=!n.closed})}else{void 0===o.closed&&(o.closed=!0);var l=document.createTextNode(o.name);X.addClass(l,\"controller-name\"),s=c(n,l);X.addClass(this.__ul,e.CLASS_CLOSED),X.addClass(s,\"title\"),X.bind(s,\"click\",function(e){return e.preventDefault(),n.closed=!n.closed,!1}),o.closed||(this.closed=!1)}o.autoPlace&&(S.isUndefined(o.parent)&&(de&&(ce=document.createElement(\"div\"),X.addClass(ce,\"dg\"),X.addClass(ce,e.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(ce),de=!1),ce.appendChild(this.domElement),X.addClass(this.domElement,e.CLASS_AUTO_PLACE)),this.parent||w(n,o.width)),this.__resizeHandler=function(){n.onResizeDebounced()},X.bind(window,\"resize\",this.__resizeHandler),X.bind(this.__ul,\"webkitTransitionEnd\",this.__resizeHandler),X.bind(this.__ul,\"transitionend\",this.__resizeHandler),X.bind(this.__ul,\"oTransitionEnd\",this.__resizeHandler),this.onResize(),o.resizable&&y(this),r=function(){ae&&\"true\"===localStorage.getItem(m(n,\"isLocal\"))&&localStorage.setItem(m(n,\"gui\"),JSON.stringify(n.getSaveObject()))},this.saveToLocalStorageIfPossible=r,o.parent||function(){var e=n.getRoot();e.width+=1,S.defer(function(){e.width-=1})}()};he.toggleHide=function(){ue=!ue,S.each(_e,function(e){e.domElement.style.display=ue?\"none\":\"\"})},he.CLASS_AUTO_PLACE=\"a\",he.CLASS_AUTO_PLACE_CONTAINER=\"ac\",he.CLASS_MAIN=\"main\",he.CLASS_CONTROLLER_ROW=\"cr\",he.CLASS_TOO_TALL=\"taller-than-window\",he.CLASS_CLOSED=\"closed\",he.CLASS_CLOSE_BUTTON=\"close-button\",he.CLASS_CLOSE_TOP=\"close-top\",he.CLASS_CLOSE_BOTTOM=\"close-bottom\",he.CLASS_DRAG=\"drag\",he.DEFAULT_WIDTH=245,he.TEXT_CLOSED=\"Close Controls\",he.TEXT_OPEN=\"Open Controls\",he._keydownHandler=function(e){\"text\"===document.activeElement.type||72!==e.which&&72!==e.keyCode||he.toggleHide()},X.bind(window,\"keydown\",he._keydownHandler,!1),S.extend(he.prototype,{add:function(e,t){return f(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,t){return f(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.splice(this.__controllers.indexOf(e),1);var t=this;S.defer(function(){t.onResize()})},destroy:function(){if(this.parent)throw new Error(\"Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.\");this.autoPlace&&ce.removeChild(this.domElement);var e=this;S.each(this.__folders,function(t){e.removeFolder(t)}),X.unbind(window,\"keydown\",he._keydownHandler,!1),u(this)},addFolder:function(e){if(void 0!==this.__folders[e])throw new Error('You already have a folder in this GUI by the name \"'+e+'\"');var t={name:e,parent:this};t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]);var n=new he(t);this.__folders[e]=n;var o=c(this,n.domElement);return X.addClass(o,\"folder\"),n},removeFolder:function(e){this.__ul.removeChild(e.domElement.parentElement),delete this.__folders[e.name],this.load&&this.load.folders&&this.load.folders[e.name]&&delete this.load.folders[e.name],u(e);var t=this;S.each(e.__folders,function(t){e.removeFolder(t)}),S.defer(function(){t.onResize()})},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var e=this.getRoot();if(e.scrollable){var t=X.getOffset(e.__ul).top,n=0;S.each(e.__ul.childNodes,function(t){e.autoPlace&&t===e.__save_row||(n+=X.getHeight(t))}),window.innerHeight-t-20<n?(X.addClass(e.domElement,he.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-t-20+\"px\"):(X.removeClass(e.domElement,he.CLASS_TOO_TALL),e.__ul.style.height=\"auto\")}e.__resize_handle&&S.defer(function(){e.__resize_handle.style.height=e.__ul.offsetHeight+\"px\"}),e.__closeButton&&(e.__closeButton.style.width=e.width+\"px\")},onResizeDebounced:S.debounce(function(){this.onResize()},50),remember:function(){if(S.isUndefined(le)&&((le=new ie).domElement.innerHTML='<div id=\"dg-save\" class=\"dg dialogue\">\\n\\n  Here\\'s the new load parameter for your <code>GUI</code>\\'s constructor:\\n\\n  <textarea id=\"dg-new-constructor\"></textarea>\\n\\n  <div id=\"dg-save-locally\">\\n\\n    <input id=\"dg-local-storage\" type=\"checkbox\"/> Automatically save\\n    values to <code>localStorage</code> on exit.\\n\\n    <div id=\"dg-local-explain\">The values saved to <code>localStorage</code> will\\n      override those passed to <code>dat.GUI</code>\\'s constructor. This makes it\\n      easier to work incrementally, but <code>localStorage</code> is fragile,\\n      and your friends may not see the same values you do.\\n\\n    </div>\\n\\n  </div>\\n\\n</div>'),this.parent)throw new Error(\"You can only call remember on a top level GUI.\");var e=this;S.each(Array.prototype.slice.call(arguments),function(t){0===e.__rememberedObjects.length&&v(e),-1===e.__rememberedObjects.indexOf(t)&&e.__rememberedObjects.push(t)}),this.autoPlace&&w(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=x(this)),e.folders={},S.each(this.__folders,function(t,n){e.folders[n]=t.getSaveObject()}),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=x(this),_(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered[se]=x(this,!0)),this.load.remembered[e]=x(this),this.preset=e,g(this,e,!0),this.saveToLocalStorageIfPossible()},revert:function(e){S.each(this.__controllers,function(t){this.getRoot().load.remembered?p(e||this.getRoot(),t):t.setValue(t.initialValue),t.__onFinishChange&&t.__onFinishChange.call(t,t.getValue())},this),S.each(this.__folders,function(e){e.revert(e)}),e||_(this.getRoot(),!1)},listen:function(e){var t=0===this.__listening.length;this.__listening.push(e),t&&C(this.__listening)},updateDisplay:function(){S.each(this.__controllers,function(e){e.updateDisplay()}),S.each(this.__folders,function(e){e.updateDisplay()})}});var pe={Color:I,math:N,interpret:R},fe={Controller:z,BooleanController:K,OptionController:Y,StringController:J,NumberController:W,NumberControllerBox:Q,NumberControllerSlider:q,FunctionController:Z,ColorController:$},me={dom:X},ge={GUI:he},be=he,ve={color:pe,controllers:fe,dom:me,gui:ge,GUI:be};e.color=pe,e.controllers=fe,e.dom=me,e.gui=ge,e.GUI=be,e.default=ve,Object.defineProperty(e,\"__esModule\",{value:!0})});","/*\nMIT License\nCopyright (c) 2017 Pavel Dobryakov\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n*/\n\n'use strict'\n\nimport './dat.gui.min'\n\nfunction ga() {\n\n}\n\nexport default function (el, config) {\n  const canvas = el\n  resizeCanvas()\n\n  config = {\n    IMMEDIATE: true,\n    TRIGGER: 'hover',\n    SIM_RESOLUTION: 128,\n    DYE_RESOLUTION: 1024,\n    CAPTURE_RESOLUTION: 512,\n    DENSITY_DISSIPATION: 1,\n    VELOCITY_DISSIPATION: 0.2,\n    PRESSURE: 0.8,\n    PRESSURE_ITERATIONS: 20,\n    CURL: 30,\n    SPLAT_RADIUS: 0.25,\n    SPLAT_FORCE: 6000,\n    SPLAT_COUNT: parseInt(Math.random() * 20) + 5,\n    SHADING: true,\n    COLORFUL: true,\n    COLOR_UPDATE_SPEED: 10,\n    PAUSED: false,\n    BACK_COLOR: { r: 0, g: 0, b: 0 },\n    TRANSPARENT: false,\n    BLOOM: true,\n    BLOOM_ITERATIONS: 8,\n    BLOOM_RESOLUTION: 256,\n    BLOOM_INTENSITY: 0.8,\n    BLOOM_THRESHOLD: 0.6,\n    BLOOM_SOFT_KNEE: 0.7,\n    SUNRAYS: true,\n    SUNRAYS_RESOLUTION: 196,\n    SUNRAYS_WEIGHT: 1.0,\n    ...config,\n  }\n\n  function pointerPrototype() {\n    this.id = -1\n    this.texcoordX = 0\n    this.texcoordY = 0\n    this.prevTexcoordX = 0\n    this.prevTexcoordY = 0\n    this.deltaX = 0\n    this.deltaY = 0\n    this.down = false\n    this.moved = false\n    this.color = [30, 0, 300]\n  }\n\n  let pointers = []\n  let splatStack = []\n  let bloomFramebuffers = []\n  pointers.push(new pointerPrototype())\n\n  const { gl, ext } = getWebGLContext(canvas)\n\n  if (isMobile()) {\n    config.DYE_RESOLUTION = 512\n  }\n  if (!ext.supportLinearFiltering) {\n    config.DYE_RESOLUTION = 512\n    config.SHADING = false\n    config.BLOOM = false\n    config.SUNRAYS = false\n  }\n\n  // startGUI()\n\n  function getWebGLContext(canvas) {\n    const params = { alpha: true, depth: false, stencil: false, antialias: false, preserveDrawingBuffer: false }\n\n    let gl = canvas.getContext('webgl2', params)\n    const isWebGL2 = !!gl\n    if (!isWebGL2)\n      gl = canvas.getContext('webgl', params) || canvas.getContext('experimental-webgl', params)\n\n    let halfFloat\n    let supportLinearFiltering\n    if (isWebGL2) {\n      gl.getExtension('EXT_color_buffer_float')\n      supportLinearFiltering = gl.getExtension('OES_texture_float_linear')\n    } else {\n      halfFloat = gl.getExtension('OES_texture_half_float')\n      supportLinearFiltering = gl.getExtension('OES_texture_half_float_linear')\n    }\n\n    gl.clearColor(0.0, 0.0, 0.0, 1.0)\n\n    const halfFloatTexType = isWebGL2 ? gl.HALF_FLOAT : halfFloat.HALF_FLOAT_OES\n    let formatRGBA\n    let formatRG\n    let formatR\n\n    if (isWebGL2) {\n      formatRGBA = getSupportedFormat(gl, gl.RGBA16F, gl.RGBA, halfFloatTexType)\n      formatRG = getSupportedFormat(gl, gl.RG16F, gl.RG, halfFloatTexType)\n      formatR = getSupportedFormat(gl, gl.R16F, gl.RED, halfFloatTexType)\n    } else {\n      formatRGBA = getSupportedFormat(gl, gl.RGBA, gl.RGBA, halfFloatTexType)\n      formatRG = getSupportedFormat(gl, gl.RGBA, gl.RGBA, halfFloatTexType)\n      formatR = getSupportedFormat(gl, gl.RGBA, gl.RGBA, halfFloatTexType)\n    }\n\n    ga('send', 'event', isWebGL2 ? 'webgl2' : 'webgl', formatRGBA == null ? 'not supported' : 'supported')\n\n    return {\n      gl,\n      ext: {\n        formatRGBA,\n        formatRG,\n        formatR,\n        halfFloatTexType,\n        supportLinearFiltering\n      }\n    }\n  }\n\n  function getSupportedFormat(gl, internalFormat, format, type) {\n    if (!supportRenderTextureFormat(gl, internalFormat, format, type)) {\n      switch (internalFormat) {\n        case gl.R16F:\n          return getSupportedFormat(gl, gl.RG16F, gl.RG, type)\n        case gl.RG16F:\n          return getSupportedFormat(gl, gl.RGBA16F, gl.RGBA, type)\n        default:\n          return null\n      }\n    }\n\n    return {\n      internalFormat,\n      format\n    }\n  }\n\n  function supportRenderTextureFormat(gl, internalFormat, format, type) {\n    let texture = gl.createTexture()\n    gl.bindTexture(gl.TEXTURE_2D, texture)\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST)\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST)\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE)\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE)\n    gl.texImage2D(gl.TEXTURE_2D, 0, internalFormat, 4, 4, 0, format, type, null)\n\n    let fbo = gl.createFramebuffer()\n    gl.bindFramebuffer(gl.FRAMEBUFFER, fbo)\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0)\n\n    const status = gl.checkFramebufferStatus(gl.FRAMEBUFFER)\n    return status == gl.FRAMEBUFFER_COMPLETE\n  }\n\n  function startGUI() {\n    var gui = new dat.GUI({ width: 300 })\n    gui.add(config, 'DYE_RESOLUTION', {\n      'high': 1024,\n      'medium': 512,\n      'low': 256,\n      'very low': 128\n    }).name('quality').onFinishChange(initFramebuffers)\n    gui.add(config, 'SIM_RESOLUTION', {\n      '32': 32,\n      '64': 64,\n      '128': 128,\n      '256': 256\n    }).name('sim resolution').onFinishChange(initFramebuffers)\n    gui.add(config, 'DENSITY_DISSIPATION', 0, 4.0).name('density diffusion')\n    gui.add(config, 'VELOCITY_DISSIPATION', 0, 4.0).name('velocity diffusion')\n    gui.add(config, 'PRESSURE', 0.0, 1.0).name('pressure')\n    gui.add(config, 'CURL', 0, 50).name('vorticity').step(1)\n    gui.add(config, 'SPLAT_RADIUS', 0.01, 1.0).name('splat radius')\n    gui.add(config, 'SHADING').name('shading').onFinishChange(updateKeywords)\n    gui.add(config, 'COLORFUL').name('colorful')\n    gui.add(config, 'PAUSED').name('paused').listen()\n\n    gui.add({\n      fun: () => {\n        splatStack.push(parseInt(Math.random() * 20) + 5)\n      }\n    }, 'fun').name('Random splats')\n\n    let bloomFolder = gui.addFolder('Bloom')\n    bloomFolder.add(config, 'BLOOM').name('enabled').onFinishChange(updateKeywords)\n    bloomFolder.add(config, 'BLOOM_INTENSITY', 0.1, 2.0).name('intensity')\n    bloomFolder.add(config, 'BLOOM_THRESHOLD', 0.0, 1.0).name('threshold')\n\n    let sunraysFolder = gui.addFolder('Sunrays')\n    sunraysFolder.add(config, 'SUNRAYS').name('enabled').onFinishChange(updateKeywords)\n    sunraysFolder.add(config, 'SUNRAYS_WEIGHT', 0.3, 1.0).name('weight')\n\n    let captureFolder = gui.addFolder('Capture')\n    captureFolder.addColor(config, 'BACK_COLOR').name('background color')\n    captureFolder.add(config, 'TRANSPARENT').name('transparent')\n    captureFolder.add({ fun: captureScreenshot }, 'fun').name('take screenshot')\n\n    let github = gui.add({\n      fun: () => {\n        window.open('https://github.com/PavelDoGreat/WebGL-Fluid-Simulation')\n        ga('send', 'event', 'link button', 'github')\n      }\n    }, 'fun').name('Github')\n    github.__li.className = 'cr function bigFont'\n    github.__li.style.borderLeft = '3px solid #8C8C8C'\n    let githubIcon = document.createElement('span')\n    github.domElement.parentElement.appendChild(githubIcon)\n    githubIcon.className = 'icon github'\n\n    let twitter = gui.add({\n      fun: () => {\n        ga('send', 'event', 'link button', 'twitter')\n        window.open('https://twitter.com/PavelDoGreat')\n      }\n    }, 'fun').name('Twitter')\n    twitter.__li.className = 'cr function bigFont'\n    twitter.__li.style.borderLeft = '3px solid #8C8C8C'\n    let twitterIcon = document.createElement('span')\n    twitter.domElement.parentElement.appendChild(twitterIcon)\n    twitterIcon.className = 'icon twitter'\n\n    let discord = gui.add({\n      fun: () => {\n        ga('send', 'event', 'link button', 'discord')\n        window.open('https://discordapp.com/invite/CeqZDDE')\n      }\n    }, 'fun').name('Discord')\n    discord.__li.className = 'cr function bigFont'\n    discord.__li.style.borderLeft = '3px solid #8C8C8C'\n    let discordIcon = document.createElement('span')\n    discord.domElement.parentElement.appendChild(discordIcon)\n    discordIcon.className = 'icon discord'\n\n    let app = gui.add({\n      fun: () => {\n        ga('send', 'event', 'link button', 'app')\n        window.open('http://onelink.to/5b58bn')\n      }\n    }, 'fun').name('Check out mobile app')\n    app.__li.className = 'cr function appBigFont'\n    app.__li.style.borderLeft = '3px solid #00FF7F'\n    let appIcon = document.createElement('span')\n    app.domElement.parentElement.appendChild(appIcon)\n    appIcon.className = 'icon app'\n\n    if (isMobile())\n      gui.close()\n  }\n\n  function isMobile() {\n    return /Mobi|Android/i.test(navigator.userAgent)\n  }\n\n  function captureScreenshot() {\n    let res = getResolution(config.CAPTURE_RESOLUTION)\n    let target = createFBO(res.width, res.height, ext.formatRGBA.internalFormat, ext.formatRGBA.format, ext.halfFloatTexType, gl.NEAREST)\n    render(target)\n\n    let texture = framebufferToTexture(target)\n    texture = normalizeTexture(texture, target.width, target.height)\n\n    let captureCanvas = textureToCanvas(texture, target.width, target.height)\n    let datauri = captureCanvas.toDataURL()\n    downloadURI('fluid.png', datauri)\n    URL.revokeObjectURL(datauri)\n  }\n\n  function framebufferToTexture(target) {\n    gl.bindFramebuffer(gl.FRAMEBUFFER, target.fbo)\n    let length = target.width * target.height * 4\n    let texture = new Float32Array(length)\n    gl.readPixels(0, 0, target.width, target.height, gl.RGBA, gl.FLOAT, texture)\n    return texture\n  }\n\n  function normalizeTexture(texture, width, height) {\n    let result = new Uint8Array(texture.length)\n    let id = 0\n    for (let i = height - 1; i >= 0; i--) {\n      for (let j = 0; j < width; j++) {\n        let nid = i * width * 4 + j * 4\n        result[nid + 0] = clamp01(texture[id + 0]) * 255\n        result[nid + 1] = clamp01(texture[id + 1]) * 255\n        result[nid + 2] = clamp01(texture[id + 2]) * 255\n        result[nid + 3] = clamp01(texture[id + 3]) * 255\n        id += 4\n      }\n    }\n    return result\n  }\n\n  function clamp01(input) {\n    return Math.min(Math.max(input, 0), 1)\n  }\n\n  function textureToCanvas(texture, width, height) {\n    let captureCanvas = document.createElement('canvas')\n    let ctx = captureCanvas.getContext('2d')\n    captureCanvas.width = width\n    captureCanvas.height = height\n\n    let imageData = ctx.createImageData(width, height)\n    imageData.data.set(texture)\n    ctx.putImageData(imageData, 0, 0)\n\n    return captureCanvas\n  }\n\n  function downloadURI(filename, uri) {\n    let link = document.createElement('a')\n    link.download = filename\n    link.href = uri\n    document.body.appendChild(link)\n    link.click()\n    document.body.removeChild(link)\n  }\n\n  class Material {\n    constructor(vertexShader, fragmentShaderSource) {\n      this.vertexShader = vertexShader\n      this.fragmentShaderSource = fragmentShaderSource\n      this.programs = []\n      this.activeProgram = null\n      this.uniforms = []\n    }\n\n    setKeywords(keywords) {\n      let hash = 0\n      for (let i = 0; i < keywords.length; i++)\n        hash += hashCode(keywords[i])\n\n      let program = this.programs[hash]\n      if (program == null) {\n        let fragmentShader = compileShader(gl.FRAGMENT_SHADER, this.fragmentShaderSource, keywords)\n        program = createProgram(this.vertexShader, fragmentShader)\n        this.programs[hash] = program\n      }\n\n      if (program == this.activeProgram) return\n\n      this.uniforms = getUniforms(program)\n      this.activeProgram = program\n    }\n\n    bind() {\n      gl.useProgram(this.activeProgram)\n    }\n  }\n\n  class Program {\n    constructor(vertexShader, fragmentShader) {\n      this.uniforms = {}\n      this.program = createProgram(vertexShader, fragmentShader)\n      this.uniforms = getUniforms(this.program)\n    }\n\n    bind() {\n      gl.useProgram(this.program)\n    }\n  }\n\n  function createProgram(vertexShader, fragmentShader) {\n    let program = gl.createProgram()\n    gl.attachShader(program, vertexShader)\n    gl.attachShader(program, fragmentShader)\n    gl.linkProgram(program)\n\n    if (!gl.getProgramParameter(program, gl.LINK_STATUS))\n      throw gl.getProgramInfoLog(program)\n\n    return program\n  }\n\n  function getUniforms(program) {\n    let uniforms = []\n    let uniformCount = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS)\n    for (let i = 0; i < uniformCount; i++) {\n      let uniformName = gl.getActiveUniform(program, i).name\n      uniforms[uniformName] = gl.getUniformLocation(program, uniformName)\n    }\n    return uniforms\n  }\n\n  function compileShader(type, source, keywords) {\n    source = addKeywords(source, keywords)\n\n    const shader = gl.createShader(type)\n    gl.shaderSource(shader, source)\n    gl.compileShader(shader)\n\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS))\n      throw gl.getShaderInfoLog(shader)\n\n    return shader\n  }\n\n  function addKeywords(source, keywords) {\n    if (keywords == null) return source\n    let keywordsString = ''\n    keywords.forEach(keyword => {\n      keywordsString += '#define ' + keyword + '\\n'\n    })\n    return keywordsString + source\n  }\n\n  const baseVertexShader = compileShader(gl.VERTEX_SHADER, `\n    precision highp float;\n    attribute vec2 aPosition;\n    varying vec2 vUv;\n    varying vec2 vL;\n    varying vec2 vR;\n    varying vec2 vT;\n    varying vec2 vB;\n    uniform vec2 texelSize;\n    void main () {\n        vUv = aPosition * 0.5 + 0.5;\n        vL = vUv - vec2(texelSize.x, 0.0);\n        vR = vUv + vec2(texelSize.x, 0.0);\n        vT = vUv + vec2(0.0, texelSize.y);\n        vB = vUv - vec2(0.0, texelSize.y);\n        gl_Position = vec4(aPosition, 0.0, 1.0);\n    }\n`)\n\n  const blurVertexShader = compileShader(gl.VERTEX_SHADER, `\n    precision highp float;\n    attribute vec2 aPosition;\n    varying vec2 vUv;\n    varying vec2 vL;\n    varying vec2 vR;\n    uniform vec2 texelSize;\n    void main () {\n        vUv = aPosition * 0.5 + 0.5;\n        float offset = 1.33333333;\n        vL = vUv - texelSize * offset;\n        vR = vUv + texelSize * offset;\n        gl_Position = vec4(aPosition, 0.0, 1.0);\n    }\n`)\n\n  const blurShader = compileShader(gl.FRAGMENT_SHADER, `\n    precision mediump float;\n    precision mediump sampler2D;\n    varying vec2 vUv;\n    varying vec2 vL;\n    varying vec2 vR;\n    uniform sampler2D uTexture;\n    void main () {\n        vec4 sum = texture2D(uTexture, vUv) * 0.29411764;\n        sum += texture2D(uTexture, vL) * 0.35294117;\n        sum += texture2D(uTexture, vR) * 0.35294117;\n        gl_FragColor = sum;\n    }\n`)\n\n  const copyShader = compileShader(gl.FRAGMENT_SHADER, `\n    precision mediump float;\n    precision mediump sampler2D;\n    varying highp vec2 vUv;\n    uniform sampler2D uTexture;\n    void main () {\n        gl_FragColor = texture2D(uTexture, vUv);\n    }\n`)\n\n  const clearShader = compileShader(gl.FRAGMENT_SHADER, `\n    precision mediump float;\n    precision mediump sampler2D;\n    varying highp vec2 vUv;\n    uniform sampler2D uTexture;\n    uniform float value;\n    void main () {\n        gl_FragColor = value * texture2D(uTexture, vUv);\n    }\n`)\n\n  const colorShader = compileShader(gl.FRAGMENT_SHADER, `\n    precision mediump float;\n    uniform vec4 color;\n    void main () {\n        gl_FragColor = color;\n    }\n`)\n\n  const checkerboardShader = compileShader(gl.FRAGMENT_SHADER, config.TRANSPARENT ? `\n    precision highp float;\n    precision highp sampler2D;\n    varying vec2 vUv;\n    uniform sampler2D uTexture;\n    uniform float aspectRatio;\n    #define SCALE 25.0\n    void main () {\n        vec2 uv = floor(vUv * SCALE * vec2(aspectRatio, 1.0));\n        float v = mod(uv.x + uv.y, 2.0);\n        v = v * 0.1 + 0.8;\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n    }\n` : `\n    precision highp float;\n    precision highp sampler2D;\n    varying vec2 vUv;\n    uniform sampler2D uTexture;\n    uniform float aspectRatio;\n    #define SCALE 25.0\n    void main () {\n        vec2 uv = floor(vUv * SCALE * vec2(aspectRatio, 1.0));\n        float v = mod(uv.x + uv.y, 2.0);\n        v = v * 0.1 + 0.8;\n        gl_FragColor = vec4(vec3(v), 1.0);\n    }\n`)\n\n  const displayShaderSource = `\n    precision highp float;\n    precision highp sampler2D;\n    varying vec2 vUv;\n    varying vec2 vL;\n    varying vec2 vR;\n    varying vec2 vT;\n    varying vec2 vB;\n    uniform sampler2D uTexture;\n    uniform sampler2D uBloom;\n    uniform sampler2D uSunrays;\n    uniform sampler2D uDithering;\n    uniform vec2 ditherScale;\n    uniform vec2 texelSize;\n    vec3 linearToGamma (vec3 color) {\n        color = max(color, vec3(0));\n        return max(1.055 * pow(color, vec3(0.416666667)) - 0.055, vec3(0));\n    }\n    void main () {\n        vec3 c = texture2D(uTexture, vUv).rgb;\n    #ifdef SHADING\n        vec3 lc = texture2D(uTexture, vL).rgb;\n        vec3 rc = texture2D(uTexture, vR).rgb;\n        vec3 tc = texture2D(uTexture, vT).rgb;\n        vec3 bc = texture2D(uTexture, vB).rgb;\n        float dx = length(rc) - length(lc);\n        float dy = length(tc) - length(bc);\n        vec3 n = normalize(vec3(dx, dy, length(texelSize)));\n        vec3 l = vec3(0.0, 0.0, 1.0);\n        float diffuse = clamp(dot(n, l) + 0.7, 0.7, 1.0);\n        c *= diffuse;\n    #endif\n    #ifdef BLOOM\n        vec3 bloom = texture2D(uBloom, vUv).rgb;\n    #endif\n    #ifdef SUNRAYS\n        float sunrays = texture2D(uSunrays, vUv).r;\n        c *= sunrays;\n    #ifdef BLOOM\n        bloom *= sunrays;\n    #endif\n    #endif\n    #ifdef BLOOM\n        float noise = texture2D(uDithering, vUv * ditherScale).r;\n        noise = noise * 2.0 - 1.0;\n        bloom += noise / 255.0;\n        bloom = linearToGamma(bloom);\n        c += bloom;\n    #endif\n        float a = max(c.r, max(c.g, c.b));\n        gl_FragColor = vec4(c, a);\n    }\n`\n\n  const bloomPrefilterShader = compileShader(gl.FRAGMENT_SHADER, `\n    precision mediump float;\n    precision mediump sampler2D;\n    varying vec2 vUv;\n    uniform sampler2D uTexture;\n    uniform vec3 curve;\n    uniform float threshold;\n    void main () {\n        vec3 c = texture2D(uTexture, vUv).rgb;\n        float br = max(c.r, max(c.g, c.b));\n        float rq = clamp(br - curve.x, 0.0, curve.y);\n        rq = curve.z * rq * rq;\n        c *= max(rq, br - threshold) / max(br, 0.0001);\n        gl_FragColor = vec4(c, 0.0);\n    }\n`)\n\n  const bloomBlurShader = compileShader(gl.FRAGMENT_SHADER, `\n    precision mediump float;\n    precision mediump sampler2D;\n    varying vec2 vL;\n    varying vec2 vR;\n    varying vec2 vT;\n    varying vec2 vB;\n    uniform sampler2D uTexture;\n    void main () {\n        vec4 sum = vec4(0.0);\n        sum += texture2D(uTexture, vL);\n        sum += texture2D(uTexture, vR);\n        sum += texture2D(uTexture, vT);\n        sum += texture2D(uTexture, vB);\n        sum *= 0.25;\n        gl_FragColor = sum;\n    }\n`)\n\n  const bloomFinalShader = compileShader(gl.FRAGMENT_SHADER, `\n    precision mediump float;\n    precision mediump sampler2D;\n    varying vec2 vL;\n    varying vec2 vR;\n    varying vec2 vT;\n    varying vec2 vB;\n    uniform sampler2D uTexture;\n    uniform float intensity;\n    void main () {\n        vec4 sum = vec4(0.0);\n        sum += texture2D(uTexture, vL);\n        sum += texture2D(uTexture, vR);\n        sum += texture2D(uTexture, vT);\n        sum += texture2D(uTexture, vB);\n        sum *= 0.25;\n        gl_FragColor = sum * intensity;\n    }\n`)\n\n  const sunraysMaskShader = compileShader(gl.FRAGMENT_SHADER, `\n    precision highp float;\n    precision highp sampler2D;\n    varying vec2 vUv;\n    uniform sampler2D uTexture;\n    void main () {\n        vec4 c = texture2D(uTexture, vUv);\n        float br = max(c.r, max(c.g, c.b));\n        c.a = 1.0 - min(max(br * 20.0, 0.0), 0.8);\n        gl_FragColor = c;\n    }\n`)\n\n  const sunraysShader = compileShader(gl.FRAGMENT_SHADER, `\n    precision highp float;\n    precision highp sampler2D;\n    varying vec2 vUv;\n    uniform sampler2D uTexture;\n    uniform float weight;\n    #define ITERATIONS 16\n    void main () {\n        float Density = 0.3;\n        float Decay = 0.95;\n        float Exposure = 0.7;\n        vec2 coord = vUv;\n        vec2 dir = vUv - 0.5;\n        dir *= 1.0 / float(ITERATIONS) * Density;\n        float illuminationDecay = 1.0;\n        float color = texture2D(uTexture, vUv).a;\n        for (int i = 0; i < ITERATIONS; i++)\n        {\n            coord -= dir;\n            float col = texture2D(uTexture, coord).a;\n            color += col * illuminationDecay * weight;\n            illuminationDecay *= Decay;\n        }\n        gl_FragColor = vec4(color * Exposure, 0.0, 0.0, 1.0);\n    }\n`)\n\n  const splatShader = compileShader(gl.FRAGMENT_SHADER, `\n    precision highp float;\n    precision highp sampler2D;\n    varying vec2 vUv;\n    uniform sampler2D uTarget;\n    uniform float aspectRatio;\n    uniform vec3 color;\n    uniform vec2 point;\n    uniform float radius;\n    void main () {\n        vec2 p = vUv - point.xy;\n        p.x *= aspectRatio;\n        vec3 splat = exp(-dot(p, p) / radius) * color;\n        vec3 base = texture2D(uTarget, vUv).xyz;\n        gl_FragColor = vec4(base + splat, 1.0);\n    }\n`)\n\n  const advectionShader = compileShader(gl.FRAGMENT_SHADER, `\n    precision highp float;\n    precision highp sampler2D;\n    varying vec2 vUv;\n    uniform sampler2D uVelocity;\n    uniform sampler2D uSource;\n    uniform vec2 texelSize;\n    uniform vec2 dyeTexelSize;\n    uniform float dt;\n    uniform float dissipation;\n    vec4 bilerp (sampler2D sam, vec2 uv, vec2 tsize) {\n        vec2 st = uv / tsize - 0.5;\n        vec2 iuv = floor(st);\n        vec2 fuv = fract(st);\n        vec4 a = texture2D(sam, (iuv + vec2(0.5, 0.5)) * tsize);\n        vec4 b = texture2D(sam, (iuv + vec2(1.5, 0.5)) * tsize);\n        vec4 c = texture2D(sam, (iuv + vec2(0.5, 1.5)) * tsize);\n        vec4 d = texture2D(sam, (iuv + vec2(1.5, 1.5)) * tsize);\n        return mix(mix(a, b, fuv.x), mix(c, d, fuv.x), fuv.y);\n    }\n    void main () {\n    #ifdef MANUAL_FILTERING\n        vec2 coord = vUv - dt * bilerp(uVelocity, vUv, texelSize).xy * texelSize;\n        vec4 result = bilerp(uSource, coord, dyeTexelSize);\n    #else\n        vec2 coord = vUv - dt * texture2D(uVelocity, vUv).xy * texelSize;\n        vec4 result = texture2D(uSource, coord);\n    #endif\n        float decay = 1.0 + dissipation * dt;\n        gl_FragColor = result / decay;\n    }`,\n    ext.supportLinearFiltering ? null : ['MANUAL_FILTERING']\n  )\n\n  const divergenceShader = compileShader(gl.FRAGMENT_SHADER, `\n    precision mediump float;\n    precision mediump sampler2D;\n    varying highp vec2 vUv;\n    varying highp vec2 vL;\n    varying highp vec2 vR;\n    varying highp vec2 vT;\n    varying highp vec2 vB;\n    uniform sampler2D uVelocity;\n    void main () {\n        float L = texture2D(uVelocity, vL).x;\n        float R = texture2D(uVelocity, vR).x;\n        float T = texture2D(uVelocity, vT).y;\n        float B = texture2D(uVelocity, vB).y;\n        vec2 C = texture2D(uVelocity, vUv).xy;\n        if (vL.x < 0.0) { L = -C.x; }\n        if (vR.x > 1.0) { R = -C.x; }\n        if (vT.y > 1.0) { T = -C.y; }\n        if (vB.y < 0.0) { B = -C.y; }\n        float div = 0.5 * (R - L + T - B);\n        gl_FragColor = vec4(div, 0.0, 0.0, 1.0);\n    }\n`)\n\n  const curlShader = compileShader(gl.FRAGMENT_SHADER, `\n    precision mediump float;\n    precision mediump sampler2D;\n    varying highp vec2 vUv;\n    varying highp vec2 vL;\n    varying highp vec2 vR;\n    varying highp vec2 vT;\n    varying highp vec2 vB;\n    uniform sampler2D uVelocity;\n    void main () {\n        float L = texture2D(uVelocity, vL).y;\n        float R = texture2D(uVelocity, vR).y;\n        float T = texture2D(uVelocity, vT).x;\n        float B = texture2D(uVelocity, vB).x;\n        float vorticity = R - L - T + B;\n        gl_FragColor = vec4(0.5 * vorticity, 0.0, 0.0, 1.0);\n    }\n`)\n\n  const vorticityShader = compileShader(gl.FRAGMENT_SHADER, `\n    precision highp float;\n    precision highp sampler2D;\n    varying vec2 vUv;\n    varying vec2 vL;\n    varying vec2 vR;\n    varying vec2 vT;\n    varying vec2 vB;\n    uniform sampler2D uVelocity;\n    uniform sampler2D uCurl;\n    uniform float curl;\n    uniform float dt;\n    void main () {\n        float L = texture2D(uCurl, vL).x;\n        float R = texture2D(uCurl, vR).x;\n        float T = texture2D(uCurl, vT).x;\n        float B = texture2D(uCurl, vB).x;\n        float C = texture2D(uCurl, vUv).x;\n        vec2 force = 0.5 * vec2(abs(T) - abs(B), abs(R) - abs(L));\n        force /= length(force) + 0.0001;\n        force *= curl * C;\n        force.y *= -1.0;\n        vec2 vel = texture2D(uVelocity, vUv).xy;\n        gl_FragColor = vec4(vel + force * dt, 0.0, 1.0);\n    }\n`)\n\n  const pressureShader = compileShader(gl.FRAGMENT_SHADER, `\n    precision mediump float;\n    precision mediump sampler2D;\n    varying highp vec2 vUv;\n    varying highp vec2 vL;\n    varying highp vec2 vR;\n    varying highp vec2 vT;\n    varying highp vec2 vB;\n    uniform sampler2D uPressure;\n    uniform sampler2D uDivergence;\n    void main () {\n        float L = texture2D(uPressure, vL).x;\n        float R = texture2D(uPressure, vR).x;\n        float T = texture2D(uPressure, vT).x;\n        float B = texture2D(uPressure, vB).x;\n        float C = texture2D(uPressure, vUv).x;\n        float divergence = texture2D(uDivergence, vUv).x;\n        float pressure = (L + R + B + T - divergence) * 0.25;\n        gl_FragColor = vec4(pressure, 0.0, 0.0, 1.0);\n    }\n`)\n\n  const gradientSubtractShader = compileShader(gl.FRAGMENT_SHADER, `\n    precision mediump float;\n    precision mediump sampler2D;\n    varying highp vec2 vUv;\n    varying highp vec2 vL;\n    varying highp vec2 vR;\n    varying highp vec2 vT;\n    varying highp vec2 vB;\n    uniform sampler2D uPressure;\n    uniform sampler2D uVelocity;\n    void main () {\n        float L = texture2D(uPressure, vL).x;\n        float R = texture2D(uPressure, vR).x;\n        float T = texture2D(uPressure, vT).x;\n        float B = texture2D(uPressure, vB).x;\n        vec2 velocity = texture2D(uVelocity, vUv).xy;\n        velocity.xy -= vec2(R - L, T - B);\n        gl_FragColor = vec4(velocity, 0.0, 1.0);\n    }\n`)\n\n  const blit = (() => {\n    gl.bindBuffer(gl.ARRAY_BUFFER, gl.createBuffer())\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1, -1, -1, 1, 1, 1, 1, -1]), gl.STATIC_DRAW)\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, gl.createBuffer())\n    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array([0, 1, 2, 0, 2, 3]), gl.STATIC_DRAW)\n    gl.vertexAttribPointer(0, 2, gl.FLOAT, false, 0, 0)\n    gl.enableVertexAttribArray(0)\n\n    return (destination) => {\n      gl.bindFramebuffer(gl.FRAMEBUFFER, destination)\n      gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0)\n    }\n  })()\n\n  let dye\n  let velocity\n  let divergence\n  let curl\n  let pressure\n  let bloom\n  let sunrays\n  let sunraysTemp\n\n  let ditheringTexture = createTextureAsync()\n\n  const blurProgram = new Program(blurVertexShader, blurShader)\n  const copyProgram = new Program(baseVertexShader, copyShader)\n  const clearProgram = new Program(baseVertexShader, clearShader)\n  const colorProgram = new Program(baseVertexShader, colorShader)\n  const checkerboardProgram = new Program(baseVertexShader, checkerboardShader)\n  const bloomPrefilterProgram = new Program(baseVertexShader, bloomPrefilterShader)\n  const bloomBlurProgram = new Program(baseVertexShader, bloomBlurShader)\n  const bloomFinalProgram = new Program(baseVertexShader, bloomFinalShader)\n  const sunraysMaskProgram = new Program(baseVertexShader, sunraysMaskShader)\n  const sunraysProgram = new Program(baseVertexShader, sunraysShader)\n  const splatProgram = new Program(baseVertexShader, splatShader)\n  const advectionProgram = new Program(baseVertexShader, advectionShader)\n  const divergenceProgram = new Program(baseVertexShader, divergenceShader)\n  const curlProgram = new Program(baseVertexShader, curlShader)\n  const vorticityProgram = new Program(baseVertexShader, vorticityShader)\n  const pressureProgram = new Program(baseVertexShader, pressureShader)\n  const gradienSubtractProgram = new Program(baseVertexShader, gradientSubtractShader)\n\n  const displayMaterial = new Material(baseVertexShader, displayShaderSource)\n\n  function initFramebuffers() {\n    let simRes = getResolution(config.SIM_RESOLUTION)\n    let dyeRes = getResolution(config.DYE_RESOLUTION)\n\n    const texType = ext.halfFloatTexType\n    const rgba = ext.formatRGBA\n    const rg = ext.formatRG\n    const r = ext.formatR\n    const filtering = ext.supportLinearFiltering ? gl.LINEAR : gl.NEAREST\n\n    if (dye == null)\n      dye = createDoubleFBO(dyeRes.width, dyeRes.height, rgba.internalFormat, rgba.format, texType, filtering)\n    else\n      dye = resizeDoubleFBO(dye, dyeRes.width, dyeRes.height, rgba.internalFormat, rgba.format, texType, filtering)\n\n    if (velocity == null)\n      velocity = createDoubleFBO(simRes.width, simRes.height, rg.internalFormat, rg.format, texType, filtering)\n    else\n      velocity = resizeDoubleFBO(velocity, simRes.width, simRes.height, rg.internalFormat, rg.format, texType, filtering)\n\n    divergence = createFBO(simRes.width, simRes.height, r.internalFormat, r.format, texType, gl.NEAREST)\n    curl = createFBO(simRes.width, simRes.height, r.internalFormat, r.format, texType, gl.NEAREST)\n    pressure = createDoubleFBO(simRes.width, simRes.height, r.internalFormat, r.format, texType, gl.NEAREST)\n\n    initBloomFramebuffers()\n    initSunraysFramebuffers()\n  }\n\n  function initBloomFramebuffers() {\n    let res = getResolution(config.BLOOM_RESOLUTION)\n\n    const texType = ext.halfFloatTexType\n    const rgba = ext.formatRGBA\n    const filtering = ext.supportLinearFiltering ? gl.LINEAR : gl.NEAREST\n\n    bloom = createFBO(res.width, res.height, rgba.internalFormat, rgba.format, texType, filtering)\n\n    bloomFramebuffers.length = 0\n    for (let i = 0; i < config.BLOOM_ITERATIONS; i++) {\n      let width = res.width >> (i + 1)\n      let height = res.height >> (i + 1)\n\n      if (width < 2 || height < 2) break\n\n      let fbo = createFBO(width, height, rgba.internalFormat, rgba.format, texType, filtering)\n      bloomFramebuffers.push(fbo)\n    }\n  }\n\n  function initSunraysFramebuffers() {\n    let res = getResolution(config.SUNRAYS_RESOLUTION)\n\n    const texType = ext.halfFloatTexType\n    const r = ext.formatR\n    const filtering = ext.supportLinearFiltering ? gl.LINEAR : gl.NEAREST\n\n    sunrays = createFBO(res.width, res.height, r.internalFormat, r.format, texType, filtering)\n    sunraysTemp = createFBO(res.width, res.height, r.internalFormat, r.format, texType, filtering)\n  }\n\n  function createFBO(w, h, internalFormat, format, type, param) {\n    gl.activeTexture(gl.TEXTURE0)\n    let texture = gl.createTexture()\n    gl.bindTexture(gl.TEXTURE_2D, texture)\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, param)\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, param)\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE)\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE)\n    gl.texImage2D(gl.TEXTURE_2D, 0, internalFormat, w, h, 0, format, type, null)\n\n    let fbo = gl.createFramebuffer()\n    gl.bindFramebuffer(gl.FRAMEBUFFER, fbo)\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0)\n    gl.viewport(0, 0, w, h)\n    gl.clear(gl.COLOR_BUFFER_BIT)\n\n    let texelSizeX = 1.0 / w\n    let texelSizeY = 1.0 / h\n\n    return {\n      texture,\n      fbo,\n      width: w,\n      height: h,\n      texelSizeX,\n      texelSizeY,\n      attach(id) {\n        gl.activeTexture(gl.TEXTURE0 + id)\n        gl.bindTexture(gl.TEXTURE_2D, texture)\n        return id\n      }\n    }\n  }\n\n  function createDoubleFBO(w, h, internalFormat, format, type, param) {\n    let fbo1 = createFBO(w, h, internalFormat, format, type, param)\n    let fbo2 = createFBO(w, h, internalFormat, format, type, param)\n\n    return {\n      width: w,\n      height: h,\n      texelSizeX: fbo1.texelSizeX,\n      texelSizeY: fbo1.texelSizeY,\n      get read() {\n        return fbo1\n      },\n      set read(value) {\n        fbo1 = value\n      },\n      get write() {\n        return fbo2\n      },\n      set write(value) {\n        fbo2 = value\n      },\n      swap() {\n        let temp = fbo1\n        fbo1 = fbo2\n        fbo2 = temp\n      }\n    }\n  }\n\n  function resizeFBO(target, w, h, internalFormat, format, type, param) {\n    let newFBO = createFBO(w, h, internalFormat, format, type, param)\n    copyProgram.bind()\n    gl.uniform1i(copyProgram.uniforms.uTexture, target.attach(0))\n    blit(newFBO.fbo)\n    return newFBO\n  }\n\n  function resizeDoubleFBO(target, w, h, internalFormat, format, type, param) {\n    if (target.width == w && target.height == h)\n      return target\n    target.read = resizeFBO(target.read, w, h, internalFormat, format, type, param)\n    target.write = createFBO(w, h, internalFormat, format, type, param)\n    target.width = w\n    target.height = h\n    target.texelSizeX = 1.0 / w\n    target.texelSizeY = 1.0 / h\n    return target\n  }\n\n  function createTextureAsync(url) {\n    let texture = gl.createTexture()\n    gl.bindTexture(gl.TEXTURE_2D, texture)\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR)\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR)\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT)\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT)\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGB, 1, 1, 0, gl.RGB, gl.UNSIGNED_BYTE, new Uint8Array([255, 255, 255]))\n\n    let obj = {\n      texture,\n      width: 1,\n      height: 1,\n      attach(id) {\n        gl.activeTexture(gl.TEXTURE0 + id)\n        gl.bindTexture(gl.TEXTURE_2D, texture)\n        return id\n      }\n    }\n\n    let image = new Image()\n    image.onload = () => {\n      obj.width = image.width\n      obj.height = image.height\n      gl.bindTexture(gl.TEXTURE_2D, texture)\n      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, image)\n    }\n    url && (image.src = url)\n\n    return obj\n  }\n\n  function updateKeywords() {\n    let displayKeywords = []\n    if (config.SHADING) displayKeywords.push('SHADING')\n    if (config.BLOOM) displayKeywords.push('BLOOM')\n    if (config.SUNRAYS) displayKeywords.push('SUNRAYS')\n    displayMaterial.setKeywords(displayKeywords)\n  }\n\n  updateKeywords()\n  initFramebuffers()\n  config.IMMEDIATE && multipleSplats(config.SPLAT_COUNT)\n\n  let lastUpdateTime = Date.now()\n  let colorUpdateTimer = 0.0\n  update()\n\n  function update() {\n    const dt = calcDeltaTime()\n    if (resizeCanvas())\n      initFramebuffers()\n    updateColors(dt)\n    applyInputs()\n    if (!config.PAUSED)\n      step(dt)\n    render(null)\n    requestAnimationFrame(update)\n  }\n\n  function calcDeltaTime() {\n    let now = Date.now()\n    let dt = (now - lastUpdateTime) / 1000\n    dt = Math.min(dt, 0.016666)\n    lastUpdateTime = now\n    return dt\n  }\n\n  function resizeCanvas() {\n    let width = scaleByPixelRatio(canvas.clientWidth)\n    let height = scaleByPixelRatio(canvas.clientHeight)\n    if (canvas.width != width || canvas.height != height) {\n      canvas.width = width\n      canvas.height = height\n      return true\n    }\n    return false\n  }\n\n  function updateColors(dt) {\n    if (!config.COLORFUL) return\n\n    colorUpdateTimer += dt * config.COLOR_UPDATE_SPEED\n    if (colorUpdateTimer >= 1) {\n      colorUpdateTimer = wrap(colorUpdateTimer, 0, 1)\n      pointers.forEach(p => {\n        p.color = generateColor()\n      })\n    }\n  }\n\n  function applyInputs() {\n    if (splatStack.length > 0)\n      multipleSplats(splatStack.pop())\n\n    pointers.forEach(p => {\n      if (p.moved) {\n        p.moved = false\n        splatPointer(p)\n      }\n    })\n  }\n\n  function step(dt) {\n    gl.disable(gl.BLEND)\n    gl.viewport(0, 0, velocity.width, velocity.height)\n\n    curlProgram.bind()\n    gl.uniform2f(curlProgram.uniforms.texelSize, velocity.texelSizeX, velocity.texelSizeY)\n    gl.uniform1i(curlProgram.uniforms.uVelocity, velocity.read.attach(0))\n    blit(curl.fbo)\n\n    vorticityProgram.bind()\n    gl.uniform2f(vorticityProgram.uniforms.texelSize, velocity.texelSizeX, velocity.texelSizeY)\n    gl.uniform1i(vorticityProgram.uniforms.uVelocity, velocity.read.attach(0))\n    gl.uniform1i(vorticityProgram.uniforms.uCurl, curl.attach(1))\n    gl.uniform1f(vorticityProgram.uniforms.curl, config.CURL)\n    gl.uniform1f(vorticityProgram.uniforms.dt, dt)\n    blit(velocity.write.fbo)\n    velocity.swap()\n\n    divergenceProgram.bind()\n    gl.uniform2f(divergenceProgram.uniforms.texelSize, velocity.texelSizeX, velocity.texelSizeY)\n    gl.uniform1i(divergenceProgram.uniforms.uVelocity, velocity.read.attach(0))\n    blit(divergence.fbo)\n\n    clearProgram.bind()\n    gl.uniform1i(clearProgram.uniforms.uTexture, pressure.read.attach(0))\n    gl.uniform1f(clearProgram.uniforms.value, config.PRESSURE)\n    blit(pressure.write.fbo)\n    pressure.swap()\n\n    pressureProgram.bind()\n    gl.uniform2f(pressureProgram.uniforms.texelSize, velocity.texelSizeX, velocity.texelSizeY)\n    gl.uniform1i(pressureProgram.uniforms.uDivergence, divergence.attach(0))\n    for (let i = 0; i < config.PRESSURE_ITERATIONS; i++) {\n      gl.uniform1i(pressureProgram.uniforms.uPressure, pressure.read.attach(1))\n      blit(pressure.write.fbo)\n      pressure.swap()\n    }\n\n    gradienSubtractProgram.bind()\n    gl.uniform2f(gradienSubtractProgram.uniforms.texelSize, velocity.texelSizeX, velocity.texelSizeY)\n    gl.uniform1i(gradienSubtractProgram.uniforms.uPressure, pressure.read.attach(0))\n    gl.uniform1i(gradienSubtractProgram.uniforms.uVelocity, velocity.read.attach(1))\n    blit(velocity.write.fbo)\n    velocity.swap()\n\n    advectionProgram.bind()\n    gl.uniform2f(advectionProgram.uniforms.texelSize, velocity.texelSizeX, velocity.texelSizeY)\n    if (!ext.supportLinearFiltering)\n      gl.uniform2f(advectionProgram.uniforms.dyeTexelSize, velocity.texelSizeX, velocity.texelSizeY)\n    let velocityId = velocity.read.attach(0)\n    gl.uniform1i(advectionProgram.uniforms.uVelocity, velocityId)\n    gl.uniform1i(advectionProgram.uniforms.uSource, velocityId)\n    gl.uniform1f(advectionProgram.uniforms.dt, dt)\n    gl.uniform1f(advectionProgram.uniforms.dissipation, config.VELOCITY_DISSIPATION)\n    blit(velocity.write.fbo)\n    velocity.swap()\n\n    gl.viewport(0, 0, dye.width, dye.height)\n\n    if (!ext.supportLinearFiltering)\n      gl.uniform2f(advectionProgram.uniforms.dyeTexelSize, dye.texelSizeX, dye.texelSizeY)\n    gl.uniform1i(advectionProgram.uniforms.uVelocity, velocity.read.attach(0))\n    gl.uniform1i(advectionProgram.uniforms.uSource, dye.read.attach(1))\n    gl.uniform1f(advectionProgram.uniforms.dissipation, config.DENSITY_DISSIPATION)\n    blit(dye.write.fbo)\n    dye.swap()\n  }\n\n  function render(target) {\n    if (config.BLOOM)\n      applyBloom(dye.read, bloom)\n    if (config.SUNRAYS) {\n      applySunrays(dye.read, dye.write, sunrays)\n      blur(sunrays, sunraysTemp, 1)\n    }\n\n    if (target == null || !config.TRANSPARENT) {\n      gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA)\n      gl.enable(gl.BLEND)\n    } else {\n      gl.disable(gl.BLEND)\n    }\n\n    let width = target == null ? gl.drawingBufferWidth : target.width\n    let height = target == null ? gl.drawingBufferHeight : target.height\n    gl.viewport(0, 0, width, height)\n\n    let fbo = target == null ? null : target.fbo\n    if (!config.TRANSPARENT)\n      drawColor(fbo, normalizeColor(config.BACK_COLOR))\n    if (target == null && config.TRANSPARENT)\n      drawCheckerboard(fbo)\n    drawDisplay(fbo, width, height)\n  }\n\n  function drawColor(fbo, color) {\n    colorProgram.bind()\n    gl.uniform4f(colorProgram.uniforms.color, color.r, color.g, color.b, 1)\n    blit(fbo)\n  }\n\n  function drawCheckerboard(fbo) {\n    checkerboardProgram.bind()\n    gl.uniform1f(checkerboardProgram.uniforms.aspectRatio, canvas.width / canvas.height)\n    blit(fbo)\n  }\n\n  function drawDisplay(fbo, width, height) {\n    displayMaterial.bind()\n    if (config.SHADING)\n      gl.uniform2f(displayMaterial.uniforms.texelSize, 1.0 / width, 1.0 / height)\n    gl.uniform1i(displayMaterial.uniforms.uTexture, dye.read.attach(0))\n    if (config.BLOOM) {\n      gl.uniform1i(displayMaterial.uniforms.uBloom, bloom.attach(1))\n      gl.uniform1i(displayMaterial.uniforms.uDithering, ditheringTexture.attach(2))\n      let scale = getTextureScale(ditheringTexture, width, height)\n      gl.uniform2f(displayMaterial.uniforms.ditherScale, scale.x, scale.y)\n    }\n    if (config.SUNRAYS)\n      gl.uniform1i(displayMaterial.uniforms.uSunrays, sunrays.attach(3))\n    blit(fbo)\n  }\n\n  function applyBloom(source, destination) {\n    if (bloomFramebuffers.length < 2)\n      return\n\n    let last = destination\n\n    gl.disable(gl.BLEND)\n    bloomPrefilterProgram.bind()\n    let knee = config.BLOOM_THRESHOLD * config.BLOOM_SOFT_KNEE + 0.0001\n    let curve0 = config.BLOOM_THRESHOLD - knee\n    let curve1 = knee * 2\n    let curve2 = 0.25 / knee\n    gl.uniform3f(bloomPrefilterProgram.uniforms.curve, curve0, curve1, curve2)\n    gl.uniform1f(bloomPrefilterProgram.uniforms.threshold, config.BLOOM_THRESHOLD)\n    gl.uniform1i(bloomPrefilterProgram.uniforms.uTexture, source.attach(0))\n    gl.viewport(0, 0, last.width, last.height)\n    blit(last.fbo)\n\n    bloomBlurProgram.bind()\n    for (let i = 0; i < bloomFramebuffers.length; i++) {\n      let dest = bloomFramebuffers[i]\n      gl.uniform2f(bloomBlurProgram.uniforms.texelSize, last.texelSizeX, last.texelSizeY)\n      gl.uniform1i(bloomBlurProgram.uniforms.uTexture, last.attach(0))\n      gl.viewport(0, 0, dest.width, dest.height)\n      blit(dest.fbo)\n      last = dest\n    }\n\n    gl.blendFunc(gl.ONE, gl.ONE)\n    gl.enable(gl.BLEND)\n\n    for (let i = bloomFramebuffers.length - 2; i >= 0; i--) {\n      let baseTex = bloomFramebuffers[i]\n      gl.uniform2f(bloomBlurProgram.uniforms.texelSize, last.texelSizeX, last.texelSizeY)\n      gl.uniform1i(bloomBlurProgram.uniforms.uTexture, last.attach(0))\n      gl.viewport(0, 0, baseTex.width, baseTex.height)\n      blit(baseTex.fbo)\n      last = baseTex\n    }\n\n    gl.disable(gl.BLEND)\n    bloomFinalProgram.bind()\n    gl.uniform2f(bloomFinalProgram.uniforms.texelSize, last.texelSizeX, last.texelSizeY)\n    gl.uniform1i(bloomFinalProgram.uniforms.uTexture, last.attach(0))\n    gl.uniform1f(bloomFinalProgram.uniforms.intensity, config.BLOOM_INTENSITY)\n    gl.viewport(0, 0, destination.width, destination.height)\n    blit(destination.fbo)\n  }\n\n  function applySunrays(source, mask, destination) {\n    gl.disable(gl.BLEND)\n    sunraysMaskProgram.bind()\n    gl.uniform1i(sunraysMaskProgram.uniforms.uTexture, source.attach(0))\n    gl.viewport(0, 0, mask.width, mask.height)\n    blit(mask.fbo)\n\n    sunraysProgram.bind()\n    gl.uniform1f(sunraysProgram.uniforms.weight, config.SUNRAYS_WEIGHT)\n    gl.uniform1i(sunraysProgram.uniforms.uTexture, mask.attach(0))\n    gl.viewport(0, 0, destination.width, destination.height)\n    blit(destination.fbo)\n  }\n\n  function blur(target, temp, iterations) {\n    blurProgram.bind()\n    for (let i = 0; i < iterations; i++) {\n      gl.uniform2f(blurProgram.uniforms.texelSize, target.texelSizeX, 0.0)\n      gl.uniform1i(blurProgram.uniforms.uTexture, target.attach(0))\n      blit(temp.fbo)\n\n      gl.uniform2f(blurProgram.uniforms.texelSize, 0.0, target.texelSizeY)\n      gl.uniform1i(blurProgram.uniforms.uTexture, temp.attach(0))\n      blit(target.fbo)\n    }\n  }\n\n  function splatPointer(pointer) {\n    let dx = pointer.deltaX * config.SPLAT_FORCE\n    let dy = pointer.deltaY * config.SPLAT_FORCE\n    splat(pointer.texcoordX, pointer.texcoordY, dx, dy, pointer.color)\n  }\n\n  function multipleSplats(amount) {\n    for (let i = 0; i < amount; i++) {\n      const color = generateColor()\n      color.r *= 10.0\n      color.g *= 10.0\n      color.b *= 10.0\n      const x = Math.random()\n      const y = Math.random()\n      const dx = 1000 * (Math.random() - 0.5)\n      const dy = 1000 * (Math.random() - 0.5)\n      splat(x, y, dx, dy, color)\n    }\n  }\n\n  function splat(x, y, dx, dy, color) {\n    gl.viewport(0, 0, velocity.width, velocity.height)\n    splatProgram.bind()\n    gl.uniform1i(splatProgram.uniforms.uTarget, velocity.read.attach(0))\n    gl.uniform1f(splatProgram.uniforms.aspectRatio, canvas.width / canvas.height)\n    gl.uniform2f(splatProgram.uniforms.point, x, y)\n    gl.uniform3f(splatProgram.uniforms.color, dx, dy, 0.0)\n    gl.uniform1f(splatProgram.uniforms.radius, correctRadius(config.SPLAT_RADIUS / 100.0))\n    blit(velocity.write.fbo)\n    velocity.swap()\n\n    gl.viewport(0, 0, dye.width, dye.height)\n    gl.uniform1i(splatProgram.uniforms.uTarget, dye.read.attach(0))\n    gl.uniform3f(splatProgram.uniforms.color, color.r, color.g, color.b)\n    blit(dye.write.fbo)\n    dye.swap()\n  }\n\n  function correctRadius(radius) {\n    let aspectRatio = canvas.width / canvas.height\n    if (aspectRatio > 1)\n      radius *= aspectRatio\n    return radius\n  }\n\n  canvas.addEventListener('mousedown', e => {\n    let posX = scaleByPixelRatio(e.offsetX)\n    let posY = scaleByPixelRatio(e.offsetY)\n    let pointer = pointers.find(p => p.id == -1)\n    if (pointer == null)\n      pointer = new pointerPrototype()\n    updatePointerDownData(pointer, -1, posX, posY)\n  })\n\n  setTimeout(() => {\n    canvas.addEventListener('mousemove', e => {\n      let posX = scaleByPixelRatio(e.offsetX)\n      let posY = scaleByPixelRatio(e.offsetY)\n      updatePointerMoveData(pointers[0], posX, posY)\n    })\n  }, 500)\n\n  window.addEventListener('mouseup', () => {\n    updatePointerUpData(pointers[0])\n  })\n\n  canvas.addEventListener('touchstart', e => {\n    e.preventDefault()\n    const touches = e.targetTouches\n    while (touches.length >= pointers.length)\n      pointers.push(new pointerPrototype())\n    for (let i = 0; i < touches.length; i++) {\n      let posX = scaleByPixelRatio(touches[i].pageX)\n      let posY = scaleByPixelRatio(touches[i].pageY)\n      updatePointerDownData(pointers[i + 1], touches[i].identifier, posX, posY)\n    }\n  })\n\n  canvas.addEventListener('touchmove', e => {\n    e.preventDefault()\n    const touches = e.targetTouches\n    for (let i = 0; i < touches.length; i++) {\n      let posX = scaleByPixelRatio(touches[i].pageX)\n      let posY = scaleByPixelRatio(touches[i].pageY)\n      updatePointerMoveData(pointers[i + 1], posX, posY)\n    }\n  }, false)\n\n  window.addEventListener('touchend', e => {\n    const touches = e.changedTouches\n    for (let i = 0; i < touches.length; i++) {\n      let pointer = pointers.find(p => p.id == touches[i].identifier)\n      updatePointerUpData(pointer)\n    }\n  })\n\n  window.addEventListener('keydown', e => {\n    if (e.code === 'KeyP')\n      config.PAUSED = !config.PAUSED\n    if (e.key === ' ')\n      splatStack.push(parseInt(Math.random() * 20) + 5)\n  })\n\n  function updatePointerDownData(pointer, id, posX, posY) {\n    pointer.id = id\n    pointer.down = true\n    pointer.moved = false\n    pointer.texcoordX = posX / canvas.width\n    pointer.texcoordY = 1.0 - posY / canvas.height\n    pointer.prevTexcoordX = pointer.texcoordX\n    pointer.prevTexcoordY = pointer.texcoordY\n    pointer.deltaX = 0\n    pointer.deltaY = 0\n    pointer.color = generateColor()\n  }\n\n  function updatePointerMoveData(pointer, posX, posY) {\n    if (config.TRIGGER === 'click') {\n      pointer.moved = pointer.down\n    }\n    pointer.prevTexcoordX = pointer.texcoordX\n    pointer.prevTexcoordY = pointer.texcoordY\n    pointer.texcoordX = posX / canvas.width\n    pointer.texcoordY = 1.0 - posY / canvas.height\n    pointer.deltaX = correctDeltaX(pointer.texcoordX - pointer.prevTexcoordX)\n    pointer.deltaY = correctDeltaY(pointer.texcoordY - pointer.prevTexcoordY)\n    if (config.TRIGGER === 'hover') {\n      pointer.moved = Math.abs(pointer.deltaX) > 0 || Math.abs(pointer.deltaY) > 0\n    }\n  }\n\n  function updatePointerUpData(pointer) {\n    pointer.down = false\n  }\n\n  function correctDeltaX(delta) {\n    let aspectRatio = canvas.width / canvas.height\n    if (aspectRatio < 1) delta *= aspectRatio\n    return delta\n  }\n\n  function correctDeltaY(delta) {\n    let aspectRatio = canvas.width / canvas.height\n    if (aspectRatio > 1) delta /= aspectRatio\n    return delta\n  }\n\n  function generateColor() {\n    let c = HSVtoRGB(Math.random(), 1.0, 1.0)\n    c.r *= 0.15\n    c.g *= 0.15\n    c.b *= 0.15\n    return c\n  }\n\n  function HSVtoRGB(h, s, v) {\n    let r, g, b, i, f, p, q, t\n    i = Math.floor(h * 6)\n    f = h * 6 - i\n    p = v * (1 - s)\n    q = v * (1 - f * s)\n    t = v * (1 - (1 - f) * s)\n\n    switch (i % 6) {\n      case 0:\n        r = v, g = t, b = p\n        break\n      case 1:\n        r = q, g = v, b = p\n        break\n      case 2:\n        r = p, g = v, b = t\n        break\n      case 3:\n        r = p, g = q, b = v\n        break\n      case 4:\n        r = t, g = p, b = v\n        break\n      case 5:\n        r = v, g = p, b = q\n        break\n    }\n\n    return {\n      r,\n      g,\n      b\n    }\n  }\n\n  function normalizeColor(input) {\n    let output = {\n      r: input.r / 255,\n      g: input.g / 255,\n      b: input.b / 255\n    }\n    return output\n  }\n\n  function wrap(value, min, max) {\n    let range = max - min\n    if (range == 0) return min\n    return (value - min) % range + min\n  }\n\n  function getResolution(resolution) {\n    let aspectRatio = gl.drawingBufferWidth / gl.drawingBufferHeight\n    if (aspectRatio < 1)\n      aspectRatio = 1.0 / aspectRatio\n\n    let min = Math.round(resolution)\n    let max = Math.round(resolution * aspectRatio)\n\n    if (gl.drawingBufferWidth > gl.drawingBufferHeight)\n      return { width: max, height: min }\n    else\n      return { width: min, height: max }\n  }\n\n  function getTextureScale(texture, width, height) {\n    return {\n      x: width / texture.width,\n      y: height / texture.height\n    }\n  }\n\n  function scaleByPixelRatio(input) {\n    let pixelRatio = window.devicePixelRatio || 1\n    return Math.floor(input * pixelRatio)\n  }\n\n  function hashCode(s) {\n    if (s.length == 0) return 0\n    let hash = 0\n    for (let i = 0; i < s.length; i++) {\n      hash = (hash << 5) - hash + s.charCodeAt(i)\n      hash |= 0 // Convert to 32bit integer\n    }\n    return hash\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}